"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[76902],{64805:(e,t,a)=>{a.d(t,{J:()=>o});class n{get clientSettings(){return this.clientSettingsProvider()}constructor(e,t,a){this.dispatcher=e,this.clientSettingsProvider=t,this.loggers=a}}class o extends n{getCurrentViewIds(){const e=this.stores.appContextStore.getCurrentViewId();return e?[e]:void 0}constructor(e,t,a,n,o){super(e,n,o),this.webApiProviders=t,this.stores=a}}},48817:(e,t,a)=>{a.r(t),a.d(t,{NotificationModule:()=>y});var n=a(19285),o=a(23835),i=a(24367),s=a(45078),r=a(96891),l=a(52274),c=a(34648),d=a(94772),u=a(51857),h=a(26260),g=a(64805),p=a(86178),T=a.n(p),b=a(55491),k=a.n(b),f=a(54320),C=a.n(f),S=a(50723),m=a.n(S),L=a(28673),v=a.n(L),_=a(74844),P=a(86053),x=a(38780),N=a(67271),H=a(98424),w=a(66070),D=a(49728);class y extends g.J{get name(){return"NotificationModule"}enqueueHiddenToastNotification(e,t,a){this.loggers.traceLogger.logTrace(507897361,_.k.Verbose,"Enqueue HiddenToastNotification [TitleSelector=".concat(String(e),"]")),this.dispatcher.dispatchAction(new i.Z(new u.Q(e,this.stores.appContextStore.getFlights().ShowHiddenToasts,t,a)))}enqueueToastNotification(e,t,a){this.loggers.traceLogger.logTrace(507897360,_.k.Verbose,"Enqueue ToastNotification [TitleSelector=".concat(String(e),"]")),this.dispatcher.dispatchAction(new i.Z(new h.R(e,t,a)))}announcePlanUpdates(e,t,a){this.loggers.traceLogger.logTrace(507897359,_.k.Verbose,"Announce Plan Updates [PlanId=".concat(a.id,"]")),k()(e,((e,t)=>{if("title"===t)this.enqueueHiddenToastNotification("SharedComponents_ChangePlanTitleToastTitle",[e])})),k()(t,((e,t)=>{switch(t){case"categories":const t=a.planDetails;k()(e,((e,a)=>{null==t||e===t.categories[a]||C()(e)&&C()(t.categories[a])||this.enqueueHiddenToastNotification("SharedComponents_ChangePlanCategoryToastTitle",[(a+1).toString(),e])}));break;case"notifyWhen":this.enqueueHiddenToastNotification("SharedComponents_ChangePlanNotificationsToastTitle")}}))}announceTaskUpdates(e,t){this.loggers.traceLogger.logTrace(507897358,_.k.Verbose,"Announce Task Updates [TaskId=".concat(t.id,"]")),k()(e,((e,a)=>{switch(a){case"appliedCategories":const a=e,n=m()(a,(e=>t.appliedCategories.indexOf(e)<0)),o=m()(t.appliedCategories,(e=>a.indexOf(e)<0)),i=this.stores.planStore.getPlanDetails(t.planId);k()(n,(e=>{var t;const a=null!==(t=null===i||void 0===i?void 0:i.categories[e])&&void 0!==t?t:x.U.getLabelPlaceholderByIndex(e);this.enqueueHiddenToastNotification("SharedComponents_TaskCategoryAppliedToastTitle",[a])})),k()(o,(e=>{var t;const a=null!==(t=null===i||void 0===i?void 0:i.categories[e])&&void 0!==t?t:x.U.getLabelPlaceholderByIndex(e);this.enqueueHiddenToastNotification("SharedComponents_TaskCategoryRemovedToastTitle",[a])}));break;case"assignments":const r=e===s.Wh.CollectionCleanupValue?{}:e,l=v()(r),c=v()(t.assignments),u=m()(l,(e=>c.indexOf(e)<0)),h=m()(c,(e=>l.indexOf(e)<0));k()(u,(e=>{const t=this.stores.userStore.getUserById(e),a=null!=t?t.displayName:"";this.enqueueHiddenToastNotification("SharedComponents_AssignUserToastTitle",[a])})),k()(h,(e=>{const t=this.stores.userStore.getUserById(e),a=null!=t?t.displayName:"";this.enqueueHiddenToastNotification("SharedComponents_UnassignUserToastTitle",[a])}));break;case"bucketId":const g=null!=e?this.stores.bucketStore.getBucket(e):null,p=null==g?P.p.Strings.Bucket_NullBucketLabel:g.title;this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskBucketToastTitle",[p]);break;case"dueDate":const b=null==e?P.p.Strings.SharedComponents_DateEmptyValue:T()(e).toDate().toDateString();this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskDueDateToastTitle",[b]);break;case"percentComplete":const f=(0,N.Fk)(e);if(f===d.$.NotStarted)this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskProgressToastTitle",[P.p.Strings.PlannerApp_NotStartedText]);else if(f===d.$.Complete){const e=t.title;this.enqueueHiddenToastNotification("SharedComponents_TaskCompletedToastTitle",[e])}else this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskProgressToastTitle",[P.p.Strings.PlannerApp_InProgressText]);break;case"startDate":const C=null==e?P.p.Strings.SharedComponents_DateEmptyValue:T()(e).toDate().toDateString();this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskStartDateToastTitle",[C]);break;case"title":this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskTitleToastTitle",[e])}}))}announceTaskDetailsUpdates(e,t){this.loggers.traceLogger.logTrace(507897357,_.k.Verbose,"Announce Task Details Updates [TaskId=".concat(t.id,"]")),k()(e,((e,a)=>{switch(a){case"checklist":const a=e===s.Wh.CollectionCleanupValue?{}:e,n=m()(a,(e=>null==t.checklist[e.id])),o=m()(t.checklist,(e=>null==a[e.id])),i=m()(a,(e=>null!=t.checklist[e.id]&&!t.checklist[e.id].isChecked&&e.isChecked)),r=(0,D.l5)(a,t);k()(n,(e=>{this.enqueueHiddenToastNotification("SharedComponents_AddChecklistItemToastTitle",[],e.title)})),k()(o,(e=>{this.enqueueHiddenToastNotification("SharedComponents_DeleteChecklistItemToastTitle",[],e.title)})),k()(i,(e=>{this.enqueueHiddenToastNotification("SharedComponents_CompleteChecklistItemToastTitle",[],e.title)})),r&&this.enqueueHiddenToastNotification("SharedComponents_ReorderChecklistToastTitle");break;case"previewType":let l=null;switch(e){case c.X.Automatic:l=P.p.Strings.SharedComponents_PreviewTypeAutomatic;break;case c.X.CheckList:l=P.p.Strings.SharedComponents_PreviewTypeChecklist;break;case c.X.Description:l=P.p.Strings.SharedComponents_PreviewTypeDescription;break;case c.X.NoPreview:l=P.p.Strings.SharedComponents_PreviewTypeNoPreview;break;case c.X.Reference:l=P.p.Strings.SharedComponents_PreviewTypeReference}null!=l&&this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskPreviewToastTitle",[l]);break;case"references":const d=e===s.Wh.CollectionCleanupValue?{}:e,u=m()(d,(e=>null==t.references[e.url])),h=m()(t.references,(e=>null==d[e.url]));k()(u,(e=>{this.enqueueHiddenToastNotification("SharedComponents_TaskReferenceAddedToastTitle",[],e.alias)})),k()(h,(e=>{this.enqueueHiddenToastNotification("SharedComponents_TaskReferenceRemovedToastTitle",[],e.alias)}))}}))}announceTaskReorder(e,t,a,n,o,i){this.loggers.traceLogger.logTrace(507897356,_.k.Verbose,"Announce Task Reorder [TaskId=".concat(o.id,"]"));let r=null,l=null;if(C()(e)||null==o.task?C()(e)&&!C()(t)&&null!=o.taskFormatData&&null!=o.taskFormatData.assignmentBoardFormat?k()(t,((e,t)=>{var a,n,i,c;switch(t){case"orderHintsByAssignee":const t=null!==(a=null===(n=o.taskFormatData)||void 0===n||null===(n=n.assignmentBoardFormat)||void 0===n?void 0:n.orderHintsByAssignee)&&void 0!==a?a:{},d=e===s.Wh.CollectionCleanupValue?{}:e;k()(d,((e,a)=>{null!=t[a]&&e!==t[a]&&(r=t[a],l=e)}));break;case"unassignedOrderHint":r=null!==(i=null===(c=o.taskFormatData)||void 0===c||null===(c=c.assignmentBoardFormat)||void 0===c?void 0:c.unassignedOrderHint)&&void 0!==i?i:"",l=e}})):C()(e)&&!C()(a)&&null!=o.taskFormatData&&null!=o.taskFormatData.bucketBoardFormat?k()(a,((e,t)=>{var a,n;if("orderHint"===t)r=null!==(a=null===(n=o.taskFormatData)||void 0===n||null===(n=n.bucketBoardFormat)||void 0===n?void 0:n.orderHint)&&void 0!==a?a:"",l=e})):C()(e)&&!C()(n)&&null!=o.taskFormatData&&null!=o.taskFormatData.progressBoardFormat&&k()(n,((e,t)=>{var a,n;if("orderHint"===t)r=null!==(a=null===(n=o.taskFormatData)||void 0===n||null===(n=n.progressBoardFormat)||void 0===n?void 0:n.orderHint)&&void 0!==a?a:"",l=e})):k()(e,((e,t)=>{var a;if("assigneePriority"===t)r=null!==(a=o.task.assigneePriority)&&void 0!==a?a:null,l=e})),null!=r&&null!=l){H.O.compareOrderHints(r,l)<0?this.enqueueHiddenToastNotification("SharedComponents_TaskMovedDownToastTitle",[],i):this.enqueueHiddenToastNotification("SharedComponents_TaskMovedUpToastTitle",[],i)}}announceUnifiedGroupUpdates(e,t){this.loggers.traceLogger.logTrace(507897355,_.k.Verbose,"Announce Unified Group Updates [GroupId=".concat(e.id,"]"));const a=e.getDiff(t);C()(a)||k()(a,((e,t)=>{switch(t){case"classification":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupClassificationToastTitle");break;case"description":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupDescriptionToastTitle");break;case"displayName":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupTitleToastTitle",[e]);break;case"visibility":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupVisibilityToastTitle")}}))}handleRequestFailures(e,t,a,n,i,s,r){if(this.loggers.traceLogger.logTrace(507897354,_.k.Verbose,"Handle Request Failures [notificationId=".concat(n,"]")),!(e.error instanceof l.U)){var c,d;const l=null===(c=e.response)||void 0===c?void 0:c.status,u=null===(d=e.response)||void 0===d?void 0:d.statusText;t.indexOf(l)<0?a.indexOf(l)<0?this.showErrorInternal(n,l,u,i,e.response,s,r):this.dispatcher.dispatchAction(new o.i(n,l,u,i,s,e.response,r)):this.loggers.traceLogger.logTrace(507897353,_.k.Verbose,"Ignored failure [statusCode=".concat(l,"][notificationId=").concat(n,"]"))}}showErrorInternal(e,t,a,o,i,s,l){this.loggers.traceLogger.logTrace(507897352,_.k.Verbose,"Show Error Internal [NotificationId=".concat(e,"]")),this.loggers.usageLogger.logData(r.M.NotificationBar,r.M.ErrorBarShown),i?(0,w.A)(i).then((i=>this.dispatcher.dispatchAction(new n.Q(e,t,a,o,i,s,l)))).catch((()=>{this.dispatcher.dispatchAction(new n.Q(e,t,a,o,i,s,l))})):this.dispatcher.dispatchAction(new n.Q(e,t,a,o,i,s,l))}showInfoInternal(e,t,a,n,i,s,r){i?(0,w.A)(i).then((i=>this.dispatcher.dispatchAction(new o.i(e,t,a,n,s,i,r)))).catch((()=>{this.dispatcher.dispatchAction(new o.i(e,t,a,n,s,i,r))})):this.dispatcher.dispatchAction(new o.i(e,t,a,n,s,i,r))}}},38780:(e,t,a)=>{a.d(t,{U:()=>n});var n,o=a(77508),i=a(86053);!function(e){function t(e){switch(e){case 0:return i.p.Strings.Labels_PinkLabelPlaceholderText;case 1:return i.p.Strings.Labels_RedLabelPlaceholderText;case 2:return i.p.Strings.Labels_YellowLabelPlaceholderText;case 3:return i.p.Strings.Labels_GreenLabelPlaceholderText;case 4:return i.p.Strings.Labels_BlueLabelPlaceholderText;case 5:return i.p.Strings.Labels_PurpleLabelPlaceholderText;case 6:return i.p.Strings.Labels_BronzeLabelPlaceholderText;case 7:return i.p.Strings.Labels_LimeLabelPlaceholderText;case 8:return i.p.Strings.Labels_AquaLabelPlaceholderText;case 9:return i.p.Strings.Labels_GrayLabelPlaceholderText;case 10:return i.p.Strings.Labels_SilverLabelPlaceholderText;case 11:return i.p.Strings.Labels_BrownLabelPlaceholderText;case 12:return i.p.Strings.Labels_CranberryLabelPlaceholderText;case 13:return i.p.Strings.Labels_OrangeLabelPlaceholderText;case 14:return i.p.Strings.Labels_PeachLabelPlaceholderText;case 15:return i.p.Strings.Labels_MarigoldLabelPlaceholderText;case 16:return i.p.Strings.Labels_LightGreenLabelPlaceholderText;case 17:return i.p.Strings.Labels_DarkGreenLabelPlaceholderText;case 18:return i.p.Strings.Labels_TealLabelPlaceholderText;case 19:return i.p.Strings.Labels_LightBlueLabelPlaceholderText;case 20:return i.p.Strings.Labels_DarkBlueLabelPlaceholderText;case 21:return i.p.Strings.Labels_LavenderLabelPlaceholderText;case 22:return i.p.Strings.Labels_PlumLabelPlaceholderText;case 23:return i.p.Strings.Labels_LightGrayLabelPlaceholderText;case 24:return i.p.Strings.Labels_DarkGrayLabelPlaceholderText;default:return""}}e.getILabelArray=function(e,a){return e.map(((e,n)=>({name:e,index:n,usageCount:a.getValueAtIndex(n),id:n.toString(),labelFormatting:{BackgroundColor:o.U4.LabelFormattingData[n].BackgroundColor,HoverBackgroundColor:o.U4.LabelFormattingData[n].HoverBackgroundColor,HoverBorderColor:o.U4.LabelFormattingData[n].HoverBorderColor,TextColor:o.U4.LabelFormattingData[n].TextColor},placeholderText:t(n)})))},e.getLabelPlaceholderByIndex=t}(n||(n={}))},66070:(e,t,a)=>{async function n(e){const t=e.clone(),a=await t.text();return t.responseText=a,t}a.d(t,{A:()=>n})},49728:(e,t,a)=>{a.d(t,{$p:()=>T,YO:()=>g,bN:()=>d,iG:()=>c,l5:()=>h,qj:()=>u,rA:()=>p});var n=a(16701),o=a(34717),i=a(50723),s=a.n(i),r=a(54320),l=a.n(r);function c(e,t){const a=e.reduce(((e,t)=>(t.appliedCategories.forEach((t=>{e[t]=!0})),e)),{});return t.forEach(((e,t)=>{null!==e&&e.length>0&&(a[t]=!0)})),a}function d(e){return e.reduce(((e,t)=>(t.getAssigneeIds().forEach((t=>{e[t]=!0})),e)),{})}function u(e){const t={},a=[];for(const n of e){const e=n.planId;n.isProjectTask()&&!t[e]&&(t[e]=n,a.push(n))}return a}function h(e,t){return s()(e,(e=>{var a,n;return!l()(null===(a=t.checklist[e.id])||void 0===a?void 0:a.orderHint)&&(null===(n=t.checklist[e.id])||void 0===n?void 0:n.orderHint)!==e.orderHint})).length>0}function g(e,t){return o.Y.builder.withPropertyBag({id:e,title:"tempTask",planId:t}).build()}function p(e,t,a){const o=d(t);return e.filter((e=>o[e.id]||a.doesFilterValueExist(n.Gx.Assignment,e.id)))}function T(e,t,a){let o=e.map(((e,t)=>({categoryNumber:t,categoryName:e})));if(null!=t){const i=c(t,e);o=o.filter((e=>{let{categoryNumber:t}=e;return i[t]||a.doesFilterValueExist(n.Gx.Label,t)}))}return o}}}]);
//# sourceMappingURL=notificationmodule.7bff6091.chunk.js.map