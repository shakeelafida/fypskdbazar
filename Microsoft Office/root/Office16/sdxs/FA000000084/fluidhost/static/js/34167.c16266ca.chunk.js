"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[34167],{34167:(t,e,o)=>{o.d(e,{tR:()=>i,xC:()=>n});var i=function(){this.inputString="",this.maxWidth="600px",this.maxHeight="200px",this.overflow="hidden",this.allowLinks=!0,this.linkClickCallback=null,this.customProtocols={},this.allowRelativeURLs=!1,this.allowAudioVideo=!1,this.externalContentCallback,this.isolatedTargetDOM=!1,this.directModifySource=!0,this.attributePrefix="jSanity",this.dataAttributeCallback=null,this.debugLevel=0,this.onFinishedCallback=null},r=function(){function t(){this.sync=!0,this.jobs=[],this.id=t.globalId++,this.listnerPosfix=0,this.onCompletedListners={},this.onNewJobAddedListners={}}return t.prototype.useSync=function(){this.sync=!0},t.prototype.useAsync=function(){this.sync=!1},t.prototype.addNewJob=function(t){for(var e in this.jobs.push(t),this.onNewJobAddedListners)if(this.onNewJobAddedListners.hasOwnProperty(e))try{this.onNewJobAddedListners[e](t)}catch(o){}},t.prototype.registerOnJobCompleted=function(t){this.listnerPosfix+=1;var e=this.id.toString()+this.listnerPosfix.toString();return this.onCompletedListners[e]=t,e},t.prototype.registerOnNewJobAdded=function(t){this.listnerPosfix+=1;var e=this.id.toString()+this.listnerPosfix.toString();return this.onNewJobAddedListners[e]=t,e},t.prototype.unRegisterListner=function(t){this.onCompletedListners[t]?delete this.onCompletedListners[t]:this.onNewJobAddedListners[t]&&delete this.onNewJobAddedListners[t]},t.prototype.run=function(){var e,o,i,r=null,n=this.sync,s=(new Date).getTime();do{if(r=this.jobs.pop())try{r()}catch(c){}else for(var l in this.onCompletedListners)if(this.onCompletedListners.hasOwnProperty(l))try{this.onCompletedListners[l]()}catch(c){}e=(new Date).getTime(),r&&!this.sync&&(n=e-s<t.maxExecutionTimeForMergedAsyncJobs)}while(n&&r);if(!this.sync&&r){var a=(o=this.run,i=this,function(){o.apply(i)});setTimeout(a,0)}},t.maxExecutionTimeForMergedAsyncJobs=15,t.globalId=0,t}(),n=function(){function t(t){this.setOnClickArray=[],this.knownHTML={default:{knownElements:{html:1,style:1,body:1,section:1,nav:1,article:1,aside:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hgroup:1,header:1,footer:1,address:1,p:1,hr:1,pre:1,blockquote:1,ol:1,ul:1,li:1,dl:1,dt:1,dd:1,figure:1,figcaption:1,div:1,a:1,em:1,strong:1,small:1,s:1,cite:1,q:1,dfn:1,abbr:1,code:1,var:1,samp:1,kbd:1,sub:1,sup:1,i:1,b:1,u:1,mark:1,ruby:1,rt:1,rp:1,bdi:1,bdo:1,span:1,br:1,wbr:1,ins:1,del:1,img:1,video:1,audio:1,source:1,map:1,area:1,svg:1,math:1,table:1,caption:1,colgroup:1,col:1,tbody:1,thead:1,tfoot:1,tr:1,td:1,th:1,input:1,button:1,select:1,datalist:1,optgroup:1,option:1,textarea:1,progress:1,meter:1,details:1,summary:1,command:1,menu:1,center:1,font:1},knownAttributes:{class:1,contenteditable:1,dir:1,hidden:1,id:1,lang:1,spellcheck:1,tabindex:1,title:1,cite:1,reversed:1,start:1,value:1,href:1,hreflang:1,rel:1,datetime:1,alt:1,height:1,ismap:1,src:1,width:1,usemap:1,autoplay:1,controls:1,loop:1,muted:1,preload:1,coords:1,shape:1,span:1,colspan:1,headers:1,rowspan:1,scope:1,checked:1,disabled:1,max:1,maxlength:1,min:1,name:1,placeholder:1,readonly:1,selectiondirection:1,size:1,step:1,selectedindex:1,label:1,selected:1,cols:1,rows:1,selectionend:1,selectionstart:1,wrap:1,low:1,high:1,optimum:1,open:1,align:1,face:1,hspace:1,vspace:1,border:1,cellpadding:1,cellspacing:1}},"https://www.w3.org/2000/svg":{knownElements:{circle:1},knownAttributes:{cx:1,cy:1,r:1,stroke:1,"stroke-width":1,fill:1}}},this.knownProtocols={"http://":1,"https://":1,"ftp://":1,"mailto:":1},this.knownCSSProperties={"background-attachment":1,"background-color":1,"background-image":1,"background-position":1,"background-repeat":1,"background-clip":1,"background-origin":1,"background-size":1,border:1,"border-bottom":1,"border-bottom-color":1,"border-bottom-style":1,"border-bottom-width":1,"border-color":1,"border-left":1,"border-left-color":1,"border-left-style":1,"border-left-width":1,"border-right":1,"border-right-color":1,"border-right-style":1,"border-right-width":1,"border-style":1,"border-top":1,"border-top-color":1,"border-top-style":1,"border-top-width":1,"border-width":1,outline:1,"outline-color":1,"outline-style":1,"outline-width":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"border-radius":1,"border-top-left-radius":1,"border-top-right-radius":1,"box-decoration-break":1,"box-shadow":1,"overflow-x":1,"overflow-y":1,"overflow-style":1,rotation:1,"rotation-point":1,opacity:1,height:1,"max-height":1,"max-width":1,"min-height":1,"min-width":1,width:1,"box-align":1,"box-direction":1,"box-flex":1,"box-flex-group":1,"box-lines":1,"box-ordinal-group":1,"box-orient":1,"box-pack":1,font:1,"font-family":1,"font-size":1,"font-style":1,"font-variant":1,"font-weight":1,"font-size-adjust":1,"font-stretch":1,"grid-columns":1,"grid-rows":1,margin:1,"margin-bottom":1,"margin-left":1,"margin-right":1,"margin-top":1,"column-count":1,"column-fill":1,"column-gap":1,"column-rule":1,"column-rule-color":1,"column-rule-style":1,"column-rule-width":1,"column-span":1,"column-width":1,columns:1,padding:1,"padding-bottom":1,"padding-left":1,"padding-right":1,"padding-top":1,bottom:1,clear:1,clip:1,display:1,float:1,left:1,overflow:1,position:1,right:1,top:1,visibility:1,"z-index":1,"border-collapse":1,"border-spacing":1,"caption-side":1,"empty-cells":1,"table-layout":1,color:1,direction:1,"letter-spacing":1,"line-height":1,"text-align":1,"text-decoration":1,"text-indent":1,"text-transform":1,"unicode-bidi":1,"vertical-align":1,"white-space":1,"word-spacing":1,"hanging-punctuation":1,"punctuation-trim":1,"text-align-last":1,"text-justify":1,"text-outline":1,"text-shadow":1,"text-wrap":1,"word-break":1,"word-wrap":1},this.sch=new r,this.itemOptions=t,t.onFinishedCallback?this.sch.useAsync():this.sch.useSync()}return t.inSupportedEnvironment=function(){return!("undefined"!==(typeof document).documentMode&&document.documentMode<10)},t.isSupport=function(){return t.inSupportedEnvironment()},t.sanitize=function(e){if(!t.inSupportedEnvironment())throw new Error("jSanity does not support run in current browser version.");var o=new i,r=t.shadowCopy({},o,e),n=new t(r).sanitizeMethod(r);return n.removeAttribute("style"),n.outerHTML},t.shadowCopy=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!t)throw new Error("invalid number of parameters. At least one is expected");if("[object Object]"!==t.toString())throw new Error("Invalid type of parameter");for(var i=0,r=null;i<e.length;i++){if(null==(r=e[i])||"[object Object]"!==r.toString())throw new Error("Invalid type of parameter");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t},t.prototype.nodeFilter=function(t){return NodeFilter.FILTER_ACCEPT},t.prototype.consoleLog=function(t,e){window.console&&this.itemOptions.debugLevel>=t&&console.log("jSanity: "+e)},t.prototype.createWalkerJob=function(t,e,o){var i=this;return function(){var r=i.tw.currentNode;i.tw.currentNode=t,i.treeWalk(e,o),i.tw.currentNode=r}},t.prototype.scheduleNewWalkerJob=function(t,e,o){var i=this.createWalkerJob(t,e,o);this.sch.addNewJob(i)},t.prototype.treeWalk=function(t,e){for(var o,i,r,n,s,l,a,c,d,u,h,p,b=this.tw.currentNode,m=[],f=this.tw.firstChild();null!==f;f=this.tw.nextSibling())switch(f.nodeType){case f.ELEMENT_NODE:if((i=f.tagName.toLowerCase())in this.knownHTML[t].knownElements){if(r=t,"svg"===i&&(t="https://www.w3.org/2000/svg"),o=this.itemOptions.directModifySource?f:"default"===t?this.destDoc.createElement(i):this.destDoc.createElementNS(t,i),n=!1,this.itemOptions.allowAudioVideo||"video"!==i&&"audio"!==i&&"source"!==i||(n=!0),"style"===i&&(n=!0),!n){u=null;for(var y=0;y<f.attributes.length;y++)if((d=f.attributes[y].name.toLowerCase())in this.knownHTML[t].knownAttributes)if("href"===d){if(s=!1,this.itemOptions.allowLinks)for(var g in this.knownProtocols)if(this.knownProtocols.hasOwnProperty(g)&&f.attributes[y].value.substring(0,g.length)===g){s=!0,o.setAttribute("href",f.attributes[y].value),null!==this.itemOptions.linkClickCallback&&(u="/*jSanityClickCallback*/");break}s||(u="/*jSanityReturnFalseCallback*/")}else if("class"===d)this.itemOptions.directModifySource&&(f.removeAttribute(f.attributes[y].name),y--);else if("name"===d||"id"===d)l=this.itemOptions.attributePrefix+"_","undefined"!==typeof this.targetElementID&&(l+=this.targetElementID+"_"),f.attributes[y].value.length>0&&(f.attributes[y].value.length>l.length&&f.attributes[y].value.substring(0,l.length)===l?o.setAttribute(f.attributes[y].name,f.attributes[y].value):o.setAttribute(f.attributes[y].name,l+f.attributes[y].value));else if("src"===d){if(a=f.attributes[y].value,null!=this.itemOptions.externalContentCallback&&(a=this.itemOptions.externalContentCallback("attribute","src",a,this.knownProtocols)),null===a){n=!0;break}o.setAttribute("src",a)}else o.setAttribute(f.attributes[y].name,f.attributes[y].value);else if(null!==this.itemOptions.dataAttributeCallback&&"data-"===d.substring(0,5)){if(null!==(c=this.itemOptions.dataAttributeCallback(f.attributes[y].name,f.attributes[y].value)))try{o.setAttribute(f.attributes[y].name,c)}catch(w){this.consoleLog(0,"Unable to set CSS attribute: "+f.attributes[y].name+" to "+c)}}else this.itemOptions.directModifySource&&"style"!==d&&(f.removeAttribute(f.attributes[y].name),y--),this.consoleLog(1,"Encountered unsupported attribute: "+d);u&&("/*jSanityReturnFalseCallback*/"===u&&o.setAttribute("href","#"),o.setAttribute("onclick",u),this.setOnClickArray.push(o))}if(!n&&f.style)for(y=0;y<f.style.length;y++)if((p=f.style[y])in this.knownCSSProperties){h=!1,"url("===(a=f.style.getPropertyValue(p)).substring(0,4)&&null!==this.itemOptions.externalContentCallback&&(a=this.itemOptions.externalContentCallback("CSSURL",p,a,this.knownProtocols),h=!0),"position"===p&&"static"!==a&&"relative"!==a&&"inherit"!==a&&(a="inherit",h=!0);try{this.itemOptions.directModifySource?h&&o.style.setProperty(p,a):o.style.setProperty(p,a)}catch(w){this.consoleLog(0,"Unable to set CSS property: "+p)}}else this.itemOptions.directModifySource&&o.style.setProperty(p,null),this.consoleLog(1,"Encountered unsupported style property: "+p);n?this.itemOptions.directModifySource&&m.push(f):this.itemOptions.directModifySource||e.appendChild(o),n||this.scheduleNewWalkerJob(f,t,o),t=r}else this.itemOptions.directModifySource&&m.push(f),this.consoleLog(1,"Encountered unsupported element: "+i);break;case f.TEXT_NODE:this.itemOptions.directModifySource||(o=this.destDoc.createTextNode(f.nodeValue),e.appendChild(o));break;case f.COMMENT_NODE:break;default:this.itemOptions.directModifySource&&m.push(f),this.consoleLog(1,"Unknown node type: "+f.nodeType)}for(y=0;y<m.length;y++)try{m[y].removeNode(!0)}catch(w){try{m[y].remove()}catch(w){m[y].parentNode.removeChild(m[y])}}this.tw.currentNode=b},t.prototype.safeBody=function(t){return(Object.getOwnPropertyDescriptor(Document.prototype,"body")?Object.getOwnPropertyDescriptor(Document.prototype,"body"):Object.getOwnPropertyDescriptor(document.__proto__,"body")).get.call(t)},t.prototype.sanitizeMethod=function(e){var o,r,n,s,l,a,c=this,d=new i,u=t.shadowCopy({},d,e);t.shadowCopy(this.knownProtocols,u.customProtocols),u.isolatedTargetDOM?(u.directModifySource=!1,this.destDoc=document.implementation.createHTMLDocument("destDoc")):(u.directModifySource=!0,o=document.createElement("span"),this.destDoc=document),this.srcDoc=document.implementation.createHTMLDocument("sourceDoc"),(r=this.srcDoc.createElement("span")).innerHTML=u.inputString,this.safeBody(this.srcDoc).appendChild(r),this.srcDoc.createTreeWalker!==Document.prototype.createTreeWalker&&(this.srcDoc=document.implementation.createHTMLDocument("sourceDoc"),r=this.srcDoc.createElement("span"),this.srcDoc.body.appendChild(r)),this.tw=this.srcDoc.createTreeWalker(this.safeBody(this.srcDoc),NodeFilter.SHOW_ALL,null,!1),this.scheduleNewWalkerJob(this.tw.currentNode,"default",u.isolatedTargetDOM?this.destDoc.body:o);var h=this.sch.registerOnJobCompleted((function(){if(u.isolatedTargetDOM){var t=document.importNode(c.destDoc.documentElement,!0);n=t.lastChild.firstChild}else n=u.directModifySource?r:o;for(s=0;s<c.setOnClickArray.length;s++)l=c.setOnClickArray[s],"/*jSanityClickCallback*/"===(a=l.getAttribute("onclick"))?l.onclick=u.linkClickCallback:"/*jSanityReturnFalseCallback*/"===a&&(l.onclick=function(){return!1});try{n.style.setProperty("display","inline-block"),u.maxWidth&&n.style.setProperty("max-width",u.maxWidth),u.maxHeight&&n.style.setProperty("max-height",u.maxHeight),u.overflow&&n.style.setProperty("overflow",u.overflow)}catch(e){}c.setOnClickArray=[],c.sch.unRegisterListner(h),u.onFinishedCallback&&u.onFinishedCallback(n)}));return this.sch.run(),n},t}()}}]);
//# sourceMappingURL=34167.c16266ca.chunk.js.map