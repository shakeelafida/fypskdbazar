"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[10945],{63074:(e,t,n)=>{n.d(t,{OI:()=>T,TX:()=>S,h5:()=>U,lg:()=>N,nv:()=>w,q6:()=>b,su:()=>C,z2:()=>g});var i=n(73426),r=n(12283),s=n(82770),a="Data.",o="zC.",c="Release.AudienceGroup",u="App.Name",l="App.Platform",f="App.Version",d="User.PrimaryIdentityHash",v="User.PrimaryIdentitySpace",h="User.TenantId",p="User.IsAnonymous",m="User.IsSignedIn",y="Session.Id",g="f998cc5ba4d448d6a1e8e913ff18be94-dd122e0a-fcf8-4dc5-9dbb-6afac5325183-7405",C="b22a201c3f1d41d28ccc399ba6cc9ca2-1972c77f-1f79-4283-a0f9-b4ddc4646f55-7121",b=void 0;function T(e,t,n,i){var s=!0;if(t)for(var c=function(t){var c=t.classification,u=t.dataType,l=t.name;if(c&&!(4===c||1===c||2===i&&32===c||3===i&&2048===c))return s=!1,"break";if(3===i&&n&&3!==u&&1!==u&&2!==u&&"OTelJS.Version"!==l&&"OTelJS.Sink"!==l)return(0,r.wC)(0,1,(function(){return"DNM: Invalid field type "+l})),s=!1,"break";var f=void 0;f=n?l.substr(0,3)===o?o+a+l.substr(3):a+l:l;var d=void 0;switch(u){case 3:d=6;break;case 2:d=4;break;case 4:d=8;break;case 0:return e[f]="string"===typeof t.value?t.value.substr(0,25e3):t.value,"continue";default:return e[f]=t.value,"continue"}var v={value:t.value,propertyType:d};e[f]=v},u=0,l=t;u<l.length;u++){if("break"===c(l[u]))break}return s}function S(e,t){try{return e()}catch(n){return(0,r.vV)(1,"1DS Sink",n),t}}function w(e,t){for(var n=function(n){var i=t[n];if(!i.processEvent(e))return(0,r.wC)(2,1,(function(){return"".concat(e.eventName," suppressed by ").concat(i.name)})),{value:!1}},i=0;i<t.length;i++){var s=n(i);if("object"===typeof s)return s.value}return!0}function O(e){(0,r.wC)(0,1,(function(){return"Invalid "+e}))}function P(e){return(0,i.Kg)(e)&&""!==e}function E(e,t){return Object.values(t).includes(e)}function _(e){return E(e,s.OD)}function k(e){return E(e,s.EW)}function I(e){return["MSACID","MSAPUID","OrgIdCID","OrgIdPUID","UserObjectId","Other"].includes(e)}function D(e){return!e||"Other"===e}function U(e,t){var n=!0;function r(t,i){i(e[t])||(O(t),n=!1)}function s(e){return new RegExp("^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$",t?"":"i").test(e)}return r(u,P),r(l,t?_:P),r(f,P),r(y,s),t?(r(c,k),r(m,i.Lm),e[m]?(r(d,P),r(v,I),["OrgIdCID","OrgIdPUID","UserObjectId"].includes(e[v])?r(h,s):r(h,i.hX)):(r(v,D),r(h,i.hX))):e[p]||!1===e[m]||(r(d,P),r(v,P),e[h]&&r(h,s)),(0,i.hX)(e[p])||e[m]!==e[p]||(O(p),n=!1),n}function N(e){return e.timestamp?new Date(e.timestamp):new Date}},10945:(e,t,n)=>{n.d(t,{r:()=>y});var i=n(6326),r=n(12283),s=n(63074),a=n(50406),o=n(82770),c=n(21265);var u=function(e,t){var n=this;this.eventsProcessed=0,this.eventsSent=0,this.eventsDiscarded=0;var i=[],u=!1,l=!0,f={name:"DiagnosticLevel",processEvent:function(e){var t=e.eventFlags.diagnosticLevel;return u||10===t||110===t||120===t}},d={},v=(0,c.aq)();this.init=function(e){return(0,s.h5)(d,!1)},this.begin=function(){return l=l&&(0,s.h5)(d,!0)},this.getOneDSTelemetryEvent=function(e){return h(e,{eventType:1})},this.getOneDSCustomerContent=function(e){var t=e.telemetryProperties.customerContentVersion;if(t&&Math.floor(t)<=2&&1===e.telemetryProperties.customerContentType)return h(e,{eventType:2})};var h=function(e,t){if(l){var o=(0,a.EY)(e);if((0,s.nv)(o,i)){var c=(0,s.lg)(o).toISOString(),u={"Event.Name":o.eventName,"Event.Source":"OTelJS","Event.Time":{value:c,propertyType:9}};for(var f in n.eventsProcessed++,u["Event.Sequence"]={value:n.eventsProcessed,propertyType:4},u["Event.Id"]=v+"."+n.eventsProcessed,d)u[f]=d[f];if(!(0,s.OI)(u,o.dataFields,!0,t.eventType))return void(0,r.wC)(0,1,(function(){return"Dropping Event: "+o.eventName}));var h="custom";o.eventContract&&(o.eventContract.name&&(u["Event.Contract"]=o.eventContract.name,h+="."+o.eventContract.name.toLowerCase().replace(/\./g,"_")),(0,s.OI)(u,o.eventContract.dataFields,!1,t.eventType));var p=function(e,t){return 2===t?s.su:e.telemetryProperties&&(1!==t||e.telemetryProperties.ariaTenantToken)?1===t?e.telemetryProperties.ariaTenantToken:void 0:void(0,r.wC)(0,1,(function(){return"Missing Aria Token"}))}(o,t.eventType);if(!p)return;return{iKey:p,name:o.eventName,data:u,time:c,baseType:h,ext:{sdk:{seq:n.eventsProcessed}}}}}};this.addPreprocessor=function(e){i.push(e)},this.getOneDSPersistentDataFields=function(){return d},this.getPreprocessors=function(){return i};var p=function(e){(0,s.OI)(d,e,!1,1)};this.addPersistentDataFields=p,this.setOptionalEventsEnabled=function(e){u=e},this.setFullEventsEnabled=this.setOptionalEventsEnabled,t.enableOptionalEvents&&(u=!0),p(e);var m=t.coreFields;if(m){p(o.qw.getFields(m.app)),p(o.KJ.getFields(m.user)),p(o.Nn.getFields(m.session));var y=m.release;y&&p(o.Kz.getFields(y))}this.addPreprocessor(f)},l=n(44610),f=n(72742),d="HttpManager:_sendBatches",v="PrivacyGuard:_processTelemetry",h=function(){function e(e,t,n){this.start=Date.now(),this.name=e,this.isAsync=!0===n,this.payload=t}return e.prototype.isChildEvt=function(){return!1},e.prototype.complete=function(){this.time=Date.now()-this.start,this.exTime=this.time},e}(),p=function(){function e(e){this._callbacks=e}return e.prototype.create=function(e,t,n){return e===d||e===v?new h(e,t,n):null},e.prototype.fire=function(e){if(e&&e.complete(),this._callbacks)switch(e.name){case d:this.handleSendBatches(e);break;case v:this.handlePrivacyGuardNotification(e)}},e.prototype.setCtx=function(e,t){},e.prototype.getCtx=function(e){},e.prototype.handleSendBatches=function(e){if(this._callbacks.requestProcessingStats){var t=0;if(e.payload){var n=e.payload();if(n.batches)for(var i in n.batches)t+=n.batches[i].evts.length}this._callbacks.requestProcessingStats(e.time||0,t)}},e.prototype.handlePrivacyGuardNotification=function(e){this._callbacks.privacyGuardStats&&e.time&&e.time>0&&this._callbacks.privacyGuardStats(e.time)},e}();var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.initialize=function(t,n){this._postChannel=new f.A;var r=null!==n&&void 0!==n?n:[];t.channels=[[this._postChannel]],t.extensionConfig=t.extensionConfig||[],t.extensionConfig[this._postChannel.identifier]=(0,i.__assign)((0,i.__assign)({},t.channelConfiguration),t.extensionConfig[this._postChannel.identifier]);try{e.prototype.initialize.call(this,t,r)}catch(s){this.logger.warnToConsole("Failed to initialize SDK."+s)}},t.prototype.setUploadFrequency=function(e){if(this._postChannel&&e){var t=e/1e3,n=t/2,i={};i.OTelCustomTransmissionProfile=[t,n],this._postChannel._loadTransmitProfiles(i),this._postChannel._setTransmitProfile("OTelCustomTransmissionProfile")}},t.prototype.flush=function(e){this._postChannel&&this._postChannel.flush(e)},t.prototype.shutdown=function(){this._postChannel&&this._postChannel.teardown()},t}(l.A),y=function(e){function t(t,n){var a,o=e.call(this,t,n)||this;o.sendTelemetryEvent=function(e){return(0,s.TX)((function(){var t=o.getOneDSTelemetryEvent(e);t&&a&&a.track(t)}),s.q6)},o.sendCustomerContent=function(e){},o.sendNonStandardEvent=function(e,t){var n=!1;l.forEach((function(i){i.canHandle(t)&&(i.processEvent(e),n=!0)})),n||(0,r.wC)(0,1,(function(){return"Missing Handler for "+t+"to process"+e.eventName}))},o.flush=function(e){null===a||void 0===a||a.flush(e),l.forEach((function(t){t.flush(e)}))},o.shutdown=function(){try{null===a||void 0===a||a.shutdown(),l.forEach((function(e){e.shutdown()}))}catch(e){(0,r.wC)(0,2,(function(){return"An error occurred on shutdown"}))}};var c,u,l=n.nonStandardEventHandlers||[];if(a=function(e,t){var n=e.httpXHROverride,r={instrumentationKey:t,endpointUrl:e.endpointUrl,channelConfiguration:{eventsLimitInMem:e.eventsLimitInMem,httpXHROverride:n,setTimeoutOverride:e.setTimeoutOverride,clearTimeoutOverride:e.clearTimeoutOverride,ignoreMc1Ms0CookieProcessing:!0,disableOptimizeObj:!0},enableWParam:!n,disableCookiesUsage:!0,extensionConfig:(0,i.__assign)({},e.extensionConfig)};e.stats&&e.stats.networkStats&&r.channelConfiguration&&(r.channelConfiguration.payloadListener=function(t,n){var i,r=n||t;r.data&&(null===(i=e.stats)||void 0===i||i.networkStats(r.data.length))});var s=new m;return s.initialize(r,e.plugins),s.setUploadFrequency(e.uploadFrequency),e.notificationListener&&s.addNotificationListener(e.notificationListener),e.stats&&s.setPerfMgr(new p(e.stats)),s}(n,s.z2),l.forEach((function(e){e.initialize(o,n)})),!n.endpointUrl)throw new Error("Missing Endpoint Url");return n.disableStatsTracking||(c=o,(u=a)&&u.addNotificationListener({eventsSent:function(e){(0,r.wC)(2,2,(function(){return"Successfully sent ".concat(e.length," event(s)")})),(0,r.wC)(3,2,(function(){return"Sent event(s) details : ".concat(JSON.stringify(e,null,2))})),c.eventsSent+=e.length},eventsDiscarded:function(e,t){(0,r.wC)(0,2,(function(){return"Discarded ".concat(e.length," event(s) because ").concat(t)})),(0,r.wC)(3,2,(function(){return"Discarded event(s) details : ".concat(JSON.stringify(e,null,2))})),c.eventsDiscarded+=e.length}})),o}return(0,i.__extends)(t,e),t}(u)}}]);
//# sourceMappingURL=10945.ad22b7ae.chunk.js.map