/*! AST v0.57.0 Updated: 2023-07-10 */!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"n":{"UT_IFRAME":"utif_","UT_DIV":"div_utif_"},"k":{"WARN":"WARN"},"f":{"DEBUG_MODE":"ast_debug","AST_DONGLE":"ast_dongle","AST_DEBUG_MEMBER":"ast_debug_member","AST_DEBUG_BIDDER":"ast_debug_bidder","AST_TEST":"ast_test","AST_TOOLKIT":"ast_toolkit","AST_OVERRIDE":{"BASE":"ast_override_","DIV":"div","INDEX":"index","TAG_ID":"tag_id","INV_CODE":"inv_code","PUBLISHER_ID":"publisher_id"}},"m":{"UNDEFINED":"undefined","OBJECT":"object","STRING":"string","NUMBER":"number"},"d":{"IE":"msie","OPERA":"opera"},"o":{"LOADED":"loaded","IMPRESSION":"impression"},"g":{"UT_BASE":"/ut/v3","IMPBUS":"ib.adnxs.com","IMPBUS_SIMPLE":"ib.adnxs-simple.com","UT_PREBID":"/ut/v3/prebid"},"r":{"MEDIA_TYPE":"media_type","CREATIVE_ID":"creative_id","AD_TYPE":"ad_type","BANNER":"banner","VIDEO":"video","CONTENT":"content","UUID":"uuid"},"l":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"a":{"CREATIVE_ID":"creative_id","NOTIFY":"notify_url","NOAD":"no_ad_url","IMP_URLS":"impression_urls","TRACKERS":"trackers"},"e":{"RTB":"rtb","CSM":"csm","SSM":"ssm"},"b":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"j":{"VIDEO_MEDIATION_JS":"//acdn.adnxs-simple.com/video/astMediation/AstMediationManager.js","BANNER_MEDIATION_JS":"//acdn.adnxs-simple.com/ast/mediation/0.57.0/mediation.js","SAFE_FRAME_URL":"//acdn.adnxs-simple.com/ast/safeframe/static/0.57.0/html/safeframe-v2.html","USERSYNC_URL":"https://acdn.adnxs.com/dmp/async_usersync.html","CDN_ORIGIN":"acdn.adnxs-simple.com"},"h":{"REQUEST":"adRequested","AVAILABLE":"adAvailable","LOADED":"adLoaded","LOADED_MEDIATED":"adLoadedMediated","NO_BID_MEDIATED":"adNoBidMediated","REQUEST_FAIL":"adRequestFailure","NO_BID":"adNoBid","DEFAULT":"adDefault","ERROR":"adError","COLLAPSE":"adCollapse","BAD_REQUEST":"adBadRequest"},"q":{"ARRAY":"Array","STRING":"String","FUNC":"Function","NUM":"Number","OBJ":"Object","BOOL":"Boolean"},"p":{"DEFAULT_ZINDEX":3000,"STATUS":{"READY":"ready","NOTIFY_EXPANDED":"expanded","NOTIFY_COLLAPSED":"collapsed","NOTIFY_ERROR":"error","FOCUS_CHANGE":"focus-change","GEOM_UPDATE":"geom-update","CMP":"cmp"}},"i":{"CREATIVE":"creative"},"c":{"NATIVE_VIEWABILITY":{"AD_RESPONSE":"adresponse","IMPRESSION":"impression"}}}')},function(e,t,n){"use strict";n.r(t),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||(Object.defineProperty=function(e,t,n){e[t]=n.value});var a;function r(e){i.setParentNode(e),i.getContainer().querySelector("#ancookie-close").addEventListener("click",(function(){e.remove()}));var t,n=function(){var e=i.getSliderElement(),n=o(e),r=i.getMessageElement();r.setAttribute("style","-webkit-transition: none; -webkit-transform: translateX(0); -webkit-column-width: "+n+"px;");var s=i.getNav();s.innerHTML="",clearTimeout(t),t=setTimeout((function(){clearInterval(a),r.style.webkitTransition="opacity 0.3s ease-out",r.style.opacity=1;var t=e.scrollWidth+10;1<Math.round(t/n)&&(function(e){for(var t="<span class=selected></span>",n=1;n<2;n++)t+="<span></span>";e.innerHTML=t}(s),function(){var e,t=o(i.getSliderElement()),n={cycles:2,isFirstSlide:!0};a=setInterval((function(){n.cycles||clearInterval(a),e=n.isFirstSlide?1:0,n=function(e,t,n){var a=i.getMessageElement();a.style.webkitTransition="opacity 0.3s ease-out, -webkit-transform "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",a.style.webkitTransform="translateX("+e+"px)",0==e&&n.cycles--,n.isFirstSlide=!n.isFirstSlide;for(var r=i.getContainer().querySelectorAll("span"),o=0;o<r.length;o++)"selected"===r[o].className?r[o].removeAttribute("class"):r[o].setAttribute("class","selected");return n}(-1*e*t,1.2,n)}),3e3)}())}),300)};n(),window.addEventListener("resize",n)}var i=function(){var e,t,n,a,r;return{getContainer:function(){return e||(e=r.querySelector("#ancookie-container")),e},getMessageElement:function(){return t||(t=r.querySelector("#ancookie-msg")),t},getSliderElement:function(){return n||(n=r.querySelector("#ancookie-slider")),n},getNav:function(){return a||(a=r.querySelector("#ancookie-nav div")),a},setParentNode:function(e){r=e}}}();function o(e){return e.offsetWidth}var s="http://ib.adnxs.com/seg?add=1&redir=",d="//ib.adnxs.com/getuidj",c=!1;function u(){c||(c=!0,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(function(){if("true"!==document.cookie.replace(/(?:(?:^|.*;\s*)anCookiesetFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")){var e=((t=document.createElement("div")).id="cookiemsg-slider",t.innerHTML='<style media="screen">.ancookie-header {\n  background: #d3d3d3;\n  text-overflow: ellipsis;\n  border-collapse: collapse;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  min-height: 38px;\n}\n\n.ancookie-header * {\n  font-size: 12px;\n  font-family: Verdana, Arial, Helvetica, sans-serif !important;\n  color: #555;\n  line-height: normal !important;\n  margin: 0;\n  padding: 0;\n}\n\n.ancookie-header p {\n  padding: 10px 10px 10px 38px;\n  text-align: left;\n}\n\n.ancookie-header a:link,\n.ancookie-header a:hover,\n.ancookie-header a:visited,\n.ancookie-header a:active {\n  color: #e6e6e6;\n  text-decoration: underline;\n  font-weight: 700;\n}\n\n.ancookie-header {\n  position: fixed;\n  opacity: 0.9;\n}\n\n.ancookie-header * {\n  font-size: 11px !important;\n}\n\n#ancookie-msg {\n  height: 34px;\n  opacity: 0;\n}\n\n@media only screen and (min-width: 1224px) {\n  .ancookie-header * {\n    font-size: 12px !important;\n  }\n\n  #ancookie-msg {\n    height: 20px;\n    opacity: 0;\n  }\n}\n\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n  .ancookie-header {\n    position: fixed;\n  }\n}\n\n.ancookie-header {\n  z-index: 9999;\n  opacity: 1;\n}\n\n#ancookie-slider {\n  overflow: hidden;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n#ancookie-slider p {\n  position: relative;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  -webkit-column-gap: 20px;\n  -webkit-column-rule-width: 0;\n}\n\n#ancookie-nav {\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: -11px;\n  z-index: 200;\n  text-align: center;\n}\n\n#ancookie-nav div {\n  display: inline-block;\n  padding: 0 10px;\n  background-color: #d3d3d3;\n  border-radius: 10px 10px 0 0;\n}\n\n#ancookie-nav span {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  background-color: #e6e6e6;\n  border-radius: 50%;\n  margin: 1px 2px;\n  box-sizing: border-box;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 0.5;\n}\n\n#ancookie-nav span.selected {\n  background-color: #555;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 1;\n}\n\n#ancookie-close {\n  position: absolute;\n  right: 5px;\n  bottom: 20px;\n  cursor: pointer;\n  -webkit-transform: scale(1.5);\n  transform: scale(1.5);\n}\n</style><div class="ancookie-header" id="ancookie-container">\n  <div id="ancookie-nav">\n    <div></div>\n  </div>\n  <div id="ancookie-slider">\n    <p id="ancookie-msg">Your browser blocks 3rd party cookies by default. By clicking on page you allow our partner AppNexus to place cookies to show relevant ads. Read more or opt out of these cookies <a href="https://www.appnexus.com/en/company/platform-privacy-policy#choices" target="_blank" style="color: #4f4f4f;">here</a>. This notice appears once </p>\n    <div id="ancookie-close">&times</div>\n  </div>\n</div>\n',t);document.body.appendChild(e),r(e),document.cookie="anCookiesetFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"}var t}(),function(e,t){var n;try{n=new XMLHttpRequest}catch(e){return}n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState&&200===n.status)try{var e=JSON.parse(n.responseText);t(e)}catch(e){console.error(e)}},n.send()}(d,l)):console.log("Not safari, skipping link override"))}function l(e){console.log(e.uid),0===(parseInt(e.uid,10)||0)&&function(){console.log("Perfoming link override.");for(var e=0;e<document.links.length;e++){var t=document.links[e];t.href=s+encodeURIComponent(t.href)}}()}var p=n(0),g=p.e.RTB,f=p.r.BANNER,m=p.r.CONTENT,v="https:"===window.document.location.protocol?"https:":"http:",h=function(e,t){var n=void 0,a=function(e){return p.n.UT_IFRAME+e.targetId+"_"+ee()}(e),r=pe();if((n=null!==r.document.getElementById(a)?r.document.getElementById(a):r.document.createElement("iframe")).id=a,e.alwaysUseXDomainIframe||e.enableSafeFrame){J("targetId: "+e.targetId+" is using safeFrame. Loading this ad into sandboxed iframe");var i=void 0;t.renderer_url?i="\x3c!-- renderer loading in SF--\x3e":e.isBannerMediation?i=apntag.getAdMarkup(e.targetId,e.uuid):e.isVideoMediation?i=e.adResponse.ad[g][f][m]:(i=I(e),i=""+(i=i.replace("/&/g","&amp;").replace("/</g","&lt;").replace("/>/g","&gt;").replace('/"/g',"&quot;").replace("/'/g","&#39;")));var o=e.curWindow;delete e.curWindow;var s={targetId:e.targetId,ad:i,host:r.location.protocol+"//"+r.location.host,geom:e.geom,debug:ae(),hasFocus:document.hasFocus(),hostSfSupport:e.safeframe,isMediated:e.isMediated,rendererUrl:t.renderer_url,enableMediationEvents:apntag.requests.enableMediationEvents,expandByCreative:re(e.targetId),currentTag:e};e.safeframe.meta&&(s.meta=e.safeframe.meta),n.name=JSON.stringify(s),e.curWindow=o,e.safeframe.sandbox&&(n.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts")}else n.name=a;if(n.setAttribute("height",e.initialHeight),n.setAttribute("width",e.initialWidth),n.tabIndex="-1",n.width=e.initialWidth+"px",n.height=e.initialHeight+"px",n.border="0",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no",n.frameBorder="0",e.renderingManagement&&e.renderingManagement.sandboxAdIframe&&!n.hasAttribute("sandbox")){var d=e.renderingManagement.sandboxAttributes||[];d.length>0&&(Q("renderingManagement.sandboxAdIframe was enabled, enabling sandbox attributes: "+d.join(" ")),n.setAttribute("sandbox",d.join(" ")))}return e.customIframeProps&&ne(e.customIframeProps,(function(e,t){n[t]=e})),n},y=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=v+p.j.SAFE_FRAME_URL;else{var n,a=function(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){K("Error getting iframe document: "+e)}return t}(e);n=I(t),a.open("text/html","replace"),a.write(n),a.close()}},b=function(e){var t=e.strategy,n=e.data,a=pe().document.createElement("iframe");a.width=0,a.height=0,a.border="0",a.hspace="0",a.vspace="0",a.tabIndex="-1",a.marginWidth="0",a.marginHeight="0",a.style.border="0",a.style.display="none",a.scrolling="no",a.frameBorder="0","WithContent"===t&&function(e,t){w(e),e.contentWindow.document.open(),e.contentWindow.document.write(t),e.contentWindow.document.close()}(a,n),"WithAttributes"===t&&function(e,t){e.src=t.src,e.id=t.id,e.sandbox=t.sandbox,w(e)}(a,n)};function w(e){var t=pe().document.getElementsByTagName("body");t.length&&t[0].appendChild(e)}function I(e){var t=e.targetId,n="";if(e.isMediated)n=e.ad.mediatedContent,J("Invoking mediation for displaying banner ad: "+t);else if(e.adResponse&&1===e.adResponse.ads.length){n=ge(e.adResponse.ads)[f][m]}return function(e,t,n){var a=function(e,t){if(t)return"";return'window.onerror = function(e) {\n        if(window.parent && window.parent.apntag) {\n          window.parent.apntag.recordErrorEvent(e,"'+e+'");\n          return true;\n        }\n      };'}(e,n);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>\n    <script>inDapIF=true;\n    apntag_targetId = "'+e+'";\n    '+a+'\n    <\/script></head>\n    <body>\n    <script>\n    document.body.id = "'+e+'";\n    <\/script>\n    '+t+"\n    </body></html>"}(t,n,e.alwaysUseXDomainIframe||e.enableSafeFrame)}var _=p.q.ARRAY,E=p.q.STRING,S=p.q.FUNC,T=p.q.NUM,k=p.q.OBJ,x=Object.prototype.hasOwnProperty,A=!1,M=p.f.DEBUG_MODE,C=p.m.UNDEFINED,D=p.e.RTB,R=p.e.CSM,N=p.e.SSM,q=p.i,P=null;try{P="object"==typeof console.info?console.info:console.info.bind(window.console)}catch(e){}var O=function(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n)},U=function(e,t,n,a){e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent&&e.detachEvent("on"+t,n)},B=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},L=function(e){return B(e,k)},F=function(e){return B(e,S)},W=function(e){return B(e,E)},z=function(e){return B(e,_)},j=function(e){return B(e,T)};function V(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var G=function(e){if(!e)return!0;if(z(e)||W(e))return 0===e.length;for(var t in e)if(x.call(e,t))return!1;return!0},H=function(){return window.console&&window.console.log},X=function(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "},J=function(e){if(ae()&&H()){var t=X(),n=me()?"SAFEFRAME MESSAGE: ":"MESSAGE: ";console.log(t+n+e)}},Y=function(e){if(ae()&&H()){var t=X(),n=me()?"SAFEFRAME WARN: ":"WARN: ";console.warn?console.warn(t+n+e):console.log(t+n+e)}},K=function(e,t){if(ae()&&H()){var n=t||"GENERAL_ERROR",a=X(),r=me()?"SAFEFRAME ":"";console.error?console.error(a+r+n+": "+e):console.log(a+r+n+": "+e)}},$=function(e){ae()&&H()&&console.timeStamp&&console.timeStamp(e)},Q=function(e,t){if(ae()&&H()){var n=X();if(P){t&&0!==t.length||(t="");var a=me()?"SAFEFRAME INFO: ":"INFO: ";P(n+a+e+(""===t?"":" : params : "),t)}}},Z=function(e,t,n){var a=e.document,r=a.createElement("script");r.type="text/javascript",r.async=!0,n&&"function"==typeof n&&(r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()}),r.src=t;var i=a.getElementsByTagName("head");return(i=i.length?i:a.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(r,i.firstChild),r},ee=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},te=function(e,t,n){var a=void 0;if(n="anx_"+n+(new Date).getTime(),e&&t){(a=new Image).id=n,a.src=t,a.height=0,a.width=0,a.style.display="none",a.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}};try{e.insertBefore(a,e.firstChild)}catch(e){K("Error logging impression for tag: "+n+" :"+e.message)}}},ne=function(e,t){if(!G(e)){if(F(e.forEach))return e.forEach(t);var n=0,a=e.length;if(a>0)for(;n<a;n++)t(e[n],n,e);else for(n in e)x.call(e,n)&&t(e[n],n,e)}},ae=function(){return!!me()||(pe().apntag=pe().apntag||{},apntag&&!1===apntag.debug&&!1===A&&(apntag.debug="TRUE"===se(M).toUpperCase(),A=!0),!(!apntag||!apntag.debug))},re=function(e){var t=apntag.requests.tags[e],n=t&&t.initCollapsed,a=n&&n.expandBy&&be(q).indexOf(n.expandBy)>=0;return n&&a},ie=function(e,t){return!!e&&-1!==e.indexOf(t)},oe=function(){try{return window.top.location.search}catch(e){try{return window.location.search}catch(e){return""}}},se=function(e,t){var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t||oe());return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},de=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):typeof e[t]!==C&&e.constructor.prototype[t]!==e[t]},ce=function(e,t){if(G(e))return[];if(F(e.map))return e.map(t);var n=[];return ne(e,(function(a,r){n.push(t(a,r,e))})),n},ue=function(e,t,n){return null==t?n:W(t)?t:j(t)?t.toString():void Y("Unsuported type for param: "+e+" required type: String")},le=function(e,t,n,a){return null==t?a:B(t,n)?t:(Y("Unsuported type for param: "+e+" required type: "+n),n===T&&(t=Number(t)),isNaN(t)?a:t)},pe=function(){return window},ge=function(e){if(e&&e.length>0){if(e[0][D])return e[0][D];if(e[0][R])return e[0][R];if(e[0][N])return e[0][N]}},fe=function(e){if(null===e||!(e instanceof Object))return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=fe(e[n]);return t};function me(){return!(typeof $sf===C||!$sf.ext)&&!!$sf.ext.debug}var ve,he=function(e){return p.n.UT_DIV+e.targetId},ye=function(){return pe().document.location.protocol+"//"+p.j.CDN_ORIGIN},be=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},we=function(e,t){var n=void 0;if(F(e))return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},Ie=function(e,t){var n={};return["debug","displayed","initialHeight","initialWidth","member","showTagCalled","sizes","targetId","utCalled","utDivId","utiframeId","uuid","keywords"].forEach((function(t){n[t]=e[t]})),t&&(n.on=t.on,n.off=t.off,n.modifyTag=t.modifyTag,n.setKeywords=t.setKeywords),n},_e=function(e){apntag.requests.tags=apntag.requests.tags||{};var t=!0;return typeof apntag.requests.tags[e]===C&&(t=!1),t},Ee=function(){apntag.requests.hasLeft=!1,ne(apntag.requests.tags,(function(e,t){e.displayed||e.prebid||e.isMediated||(Y(t+" is not displayed.",p.k.WARN),apntag.requests.hasLeft=!0)})),apntag.requests.hasLeft||J("all Tags are displayed.")},Se=function(e,t){if(e.viewability&&e.viewability.config){var n=e.viewability.config;"string"==typeof t&&(n=n.replace("%native_dom_id%",t),ae()&&null===document.getElementById(t)&&Y("No element found in the page for the native creative "+t+", see https://docs.xandr.com/bundle/seller-tag/page/seller-tag/define-tag.html 'targetId'")),b({strategy:"WithContent",data:n})}},Te=(ve=0,function(){return++ve});var ke=Array.prototype.slice,xe=ce(p.h,(function(e){return e})),Ae=function(){var e={},t={};function n(t,n){var a=n[0],r=ke.call(n,1);J("Emitting event for: "+t+" for ad tag: "+a),ne(e[t],(function(e){var t="";if(null!=(t=de(e,"*")?e["*"]:e[a])&&"function"==typeof t)try{t.apply(null,r)}catch(e){K("events._dispatch: Error executing event handler function: "+e.message)}}))}function a(e){return function(e,t){if(G(e))return!1;for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}(xe,e)}return t.on=function(t,n,r){if(a(t)){var i={};i[n]=r,e[t]=e[t]||[],e[t].push(i)}else K("Wrong event name : "+t+" Valid event names :"+xe)},t.emit=function(e){var t=ke.call(arguments,1);n(e,t)},t.off=function(t,n,a){G(e[t])||ne(e[t],(function(e){"*"===n&&null!==e[Object.keys(e)[0]]&&void 0!==e[Object.keys(e)[0]]?void 0!==a&&Object.values(e)!==a||(e[Object.keys(e)[0]]=null):null!==e[n]&&void 0!==e[n]&&(void 0!==a&&e[n]!==a||(e[n]=null))}))},t.get=function(){return e},t}(),Me="https:"===function(){try{return pe().top.document.location.protocol}catch(e){return pe().document.location.protocol}}()?"https:":"http:",Ce=[],De=!1,Re=Me+p.j.VIDEO_MEDIATION_JS,Ne=Me+p.j.BANNER_MEDIATION_JS,qe=p.r.AD_TYPE,Pe=p.b.BANNER,Oe=p.b.VIDEO;var Ue=function(e,t,n,a){e===Oe&&(null!==t&&Ce.push(t),De&&window.APNVideo_AstMediationManager?ne(Ce,(function(e){if(!e.called)try{window.APNVideo_AstMediationManager.selectAd(e.uuid,e,n,a),e.called=!0}catch(e){K("Error invoking video mediation","mediationmanager.js",e)}})):(Z(window,Re,(function(){Ue(Oe,null,n,a)})),De=!0))},Be=function(e){return e.isMediated||e.isRtbVideoFallback?e.adResponse.ad:e.adResponse.ads[0]},Le=function(e){var t=e.content_source,n=e.ad_type;if(t)return e[t][n]},Fe=[],We=p.f.AST_OVERRIDE,ze=We.BASE,je=ze+We.DIV,Ve=ze+We.INDEX,Ge=ze+We.TAG_ID,He=ze+We.INV_CODE,Xe=void 0;function Je(e){return se(e,Xe)}function Ye(e,t,n){var a=Number(t);if(isNaN(a))K("Force Creative must be a number");else{e.force_creative_id=a;var r=function(e,t){var n=null;return ne(t,(function(t){t.uuid===e.uuid&&(n=t.targetId)})),n}(e,n);J("Force Creative in use for targetId: "+r)}}var Ke=function(e){function t(){var t=function(){var t=[],n=void 0;do{try{n=n?n.parent:e;try{t.push({referrer:n.document.referrer||null,location:n.location.href||null,isTop:n===e.top})}catch(a){t.push({referrer:null,location:null,isTop:n===e.top}),Y("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return t.push({referrer:null,location:null,isTop:!1}),t}}while(n!==e.top);return t}(),n=function(){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}();if(n)for(var a=0,r=n.length;a<r;a++)t[a].ancestor=n[a];return t}return function(){try{var e=t(),n=e.length-1,a=null!==e[n].location||n>0&&null!==e[n-1].referrer,r=function(e){var t=[],n=null,a=null,r=null,i=null,o=null,s=null,d=void 0;for(d=e.length-1;d>=0;d--){try{a=e[d].location}catch(e){}if(a)n=encodeURIComponent(a),t.push(n),s||(s=n);else if(0!==d){r=e[d-1];try{i=r.referrer,o=r.ancestor}catch(e){}i?(n=encodeURIComponent(i),t.push(n),s||(s=n)):o?(n=encodeURIComponent(o),t.push(n),s||(s=n)):t.push(null)}else t.push(null)}return{stack:t,detectedRefererUrl:s}}(e);return{referer:r.detectedRefererUrl,reachedTop:a,numIframes:n,stack:r.stack}}catch(e){}}}(window),$e={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Qe=[];function Ze(e){var t,n=$e.STRICT;return void 0!==(t=e)&&(L(t)||(K("Invalid schain object found:  the schain config will not be used as it is not an object."),0))?(W(e.validation)&&-1!==Qe.indexOf(e.validation)&&(n=e.validation),n===$e.OFF||function(e,t){var n=["complete","ver","ext","nodes"],a="Detected something wrong within the schain config:",r="";function i(e){r+="\n"+e}function o(){t===$e.STRICT?K(a+r):Y(a+r)}if(!L(e)&&(i("schain.config  should be an object"),o(),t===$e.STRICT))return!1;if(Object.keys(e).forEach((function(e){-1===n.indexOf(e)&&i("schain.config."+e+"  is not a valid schain property")})),j(e.complete)&&V(e.complete)||i("schain.config.complete  should be an Integer"),W(e.ver)||i("schain.config.ver  should be a string"),de(e,"ext")&&(L(e.ext)||i("schain.object.ext  should be an object")),z(e.nodes)){var s=["asi","sid","hp","rid","name","domain","ext"];e.nodes.forEach((function(e,t){L(e)?(Object.keys(e).forEach((function(e){-1===s.indexOf(e)&&i("schain.config.nodes["+t+"]."+e+"  is not a valid schain property")})),W(e.asi)||i("schain.config.nodes["+t+"].asi  should be a string"),W(e.sid)||i("schain.config.nodes["+t+"].sid  should be a string"),j(e.hp)&&V(e.hp)||i("schain.config.nodes["+t+"].hp  should be an Integer"),de(e,"rid")&&(W(e.rid)||i("schain.config.nodes["+t+"].rid  should be a string")),de(e,"name")&&(W(e.name)||i("schain.config.nodes["+t+"].name  should be a string")),de(e,"domain")&&(W(e.domain)||i("schain.config.nodes["+t+"].domain  should be a string")),de(e,"ext")&&(L(e.ext)||i("schain.config.nodes["+t+"].ext  should be an object"))):i("schain.config.nodes["+t+"]  should be an object")}))}else if(i("schain.config.nodes  should be an Array"),o(),t===$e.STRICT)return!1;return!(r.length>0&&(o(),t===$e.STRICT))}(e.config,n)?e.config:(K("Invalid schain object found:  due to 'strict' validation setting, the schain object will not be passed.  See the above error for details."),null)):null}ne($e,(function(e){return Qe.push(e)}));var et=p.q.STRING,tt=p.q.NUM,nt=p.q.BOOL,at=p.f.AST_DONGLE,rt=p.f.AST_TOOLKIT,it=p.f.AST_TEST,ot=p.f.AST_DEBUG_MEMBER,st=p.f.AST_DEBUG_BIDDER;function dt(e){var t=[];return ne(e,(function(e,n){if(z(e)){var a=[];ne(e,(function(e){(e=ue("keywords."+n,e))&&a.push(e)})),e=a}else{if(e=ue("keywords."+n,e),!W(e))return;e=[e]}var r={key:n,value:e};t.push(r)})),t}var ct=function(e){var t=[],n={};if(z(e)&&2===e.length&&!z(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var a=0;a<e.length;a++){var r=e[a];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t},ut=function(e,t,n,a){var r={};e.disablePsa&&ne(e.tags,(function(e){e.disablePsa=!0})),e.gdpr_consent&&(r.gdpr_consent=e.gdpr_consent),e.gpp_consent&&(r.privacy=e.gpp_consent),e.us_privacy&&(r.us_privacy=e.us_privacy),e.geoOverride&&(r.geo_override={country_code:e.geoOverride.countryCode,postal_code:e.geoOverride.zip});var i=[],o=0;ne(e.tags,(function(e){if(!e.utCalled&&e.member===t&&function(e){if(!a)return!0;var t=!1;return ne(a,(function(n){e.targetId===n&&(t=!0)})),t}(e)){var n=function(e){var t={};if(e.uuid=ee(),!G(e.sizes)){var n=ct(e.sizes);G(n)||(t.sizes=n,t.primary_size=n[0])}if(!G(e.privateSizes)){var a=ct(e.privateSizes);G(a)||(t.private_sizes=a)}if(e.supplyType&&W(e.supplyType)&&(t.supply_type=e.supplyType),e.pubClick&&W(e.pubClick)&&(t.pubclick={url:e.pubClick}),e.pubClickEnc&&W(e.pubClickEnc)&&(t.pubclickenc={url:e.pubClickEnc}),e.reserve&&(j(e.reserve)||z(e.reserve))&&(t.reserve=e.reserve),e.extInvCode&&W(e.extInvCode)&&(t.ext_inv_code=e.extInvCode),t.uuid=e.uuid,e.tagId&&(t.id=e.tagId),e.formats&&(t.formats=e.formats),e.position&&("above"===e.position?t.position=1:"below"===e.position?t.position=2:t.position=0),e.invCode&&(t.code=e.invCode),e.prebid&&(t.prebid=e.prebid),e.externalImpId&&(t.external_imp_id=e.externalImpId),!0===e.allowSmallerSizes?t.allow_smaller_sizes=!0:t.allow_smaller_sizes=!1,!0===e.disablePsa&&(t.disable_psa=!0),e.allowedFormats&&(t.ad_types=e.allowedFormats),!0!==e.usePmtRule&&!1!==e.usePmtRule||(t.use_pmt_rule=e.usePmtRule),W(e.globalPlacementId)&&(t.gpid=e.globalPlacementId),!G(e.video)){var r=e.video,i={};r.id&&(i.id=r.id),G(r.mimes)||(i.mimes=r.mimes),r.maxDuration&&(i.maxduration=r.maxDuration),r.minDuration&&(i.minduration=r.minDuration),r.startDelay&&(i.startdelay=r.startDelay),r.skippable&&(i.skippable=r.skippable),r.skipOffset&&(i.skipoffset=r.skipOffset),G(r.playbackMethod)||(i.playback_method=r.playbackMethod),G(r.frameworks)||(i.frameworks=r.frameworks),t.video=i}if(!G(e.native)){var o=e.native,s={};o.renderer_id&&(s.renderer_id=o.renderer_id),o.placement_type&&(s.placement_type=o.placement_type);var d={};o.id&&(d.id=o.id),o.title&&(d.title=o.title),o.body&&(d.description=o.body),o.sponsoredBy&&(d.sponsored_by=o.sponsoredBy),o.image&&(d.main_image=o.image,G(d.main_image.sizes)&&(d.main_image.sizes=[{}])),o.icon&&(d.icon=o.icon,G(d.icon.sizes)&&(d.icon.sizes=[{}])),o.cta&&(d.ctatext=o.cta),o.desc2&&(d.desc2=o.desc2),o.rating&&(d.rating=o.rating),o.displayUrl&&(d.displayurl=o.displayUrl),o.likes&&(d.likes=o.likes),o.downloads&&(d.downloads=o.downloads),o.price&&(d.price=o.price),o.salePrice&&(d.saleprice=o.salePrice),o.phone&&(d.phone=o.phone),o.address&&(d.address=o.address),o.video&&(d.video={required:o.video.required||!1,min_duration:o.video.minDuration||0,max_duration:o.video.maxDuration}),o.privacySupported&&(d.privacy_supported=!0),o.customTitle1&&(d.customtitle1=o.customTitle1),o.customTitle2&&(d.customtitle2=o.customTitle2),o.customTitle3&&(d.customtitle3=o.customTitle3),o.customTitle4&&(d.customtitle4=o.customTitle4),o.customTitle5&&(d.customtitle5=o.customTitle5),o.customBody1&&(d.custombody1=o.customBody1),o.customBody2&&(d.custombody2=o.customBody2),o.customBody3&&(d.custombody3=o.customBody3),o.customBody4&&(d.custombody4=o.customBody4),o.customBody5&&(d.custombody5=o.customBody5),o.customCta1&&(d.customctatext1=o.customCta1),o.customCta2&&(d.customctatext2=o.customCta2),o.customCta3&&(d.customctatext3=o.customCta3),o.customCta4&&(d.customctatext4=o.customCta4),o.customCta5&&(d.customctatext5=o.customCta5),o.customDisplayUrl1&&(d.customdisplayurl1=o.customDisplayUrl1),o.customDisplayUrl2&&(d.customdisplayurl2=o.customDisplayUrl2),o.customDisplayUrl3&&(d.customdisplayurl3=o.customDisplayUrl3),o.customDisplayUrl4&&(d.customdisplayurl4=o.customDisplayUrl4),o.customDisplayUrl5&&(d.customdisplayurl5=o.customDisplayUrl5),o.customSocialUrl1&&(d.customsocialurl1=o.customSocialUrl1),o.customSocialUrl2&&(d.customsocialurl2=o.customSocialUrl2),o.customSocialUrl3&&(d.customsocialurl3=o.customSocialUrl3),o.customSocialUrl4&&(d.customsocialurl4=o.customSocialUrl4),o.customSocialUrl5&&(d.customsocialurl5=o.customSocialUrl5),o.customImage1&&(d.customimage1=o.customImage1),o.customImage2&&(d.customimage2=o.customImage2),o.customImage3&&(d.customimage3=o.customImage3),o.customImage4&&(d.customimage4=o.customImage4),o.customImage5&&(d.customimage5=o.customImage5),o.customIcon1&&(d.customicon1=o.customIcon1),o.customIcon2&&(d.customicon2=o.customIcon2),o.customIcon3&&(d.customicon3=o.customIcon3),o.customIcon4&&(d.customicon4=o.customIcon4),o.customIcon5&&(d.customicon5=o.customIcon5),o.customSocialIcon1&&(d.customsocialicon1=o.customSocialIcon1),o.customSocialIcon2&&(d.customsocialicon2=o.customSocialIcon2),o.customSocialIcon3&&(d.customsocialicon3=o.customSocialIcon3),o.customSocialIcon4&&(d.customsocialicon4=o.customSocialIcon4),o.customSocialIcon5&&(d.customsocialicon5=o.customSocialIcon5),d&&(s.layouts=[d]),t.ad_types=t.ad_types||[],-1===t.ad_types.indexOf("native")&&t.ad_types.push("native"),t.native=s}if(!G(e.keywords)){var c=dt(e.keywords);t.keywords=c}if(e.forceCreativeId){var u=Number(e.forceCreativeId);isNaN(u)?K("Force Creative must be a number"):(t.force_creative_id=u,J("Force Creative in use for targetId: "+e.targetId))}return e.nobidIfUnsold&&(t.nobid_if_unsold=!0),e.trafficSourceCode&&(t.traffic_source_code=e.trafficSourceCode.toString()),e.customPubLog&&(W(e.customPubLog)?t.custom_pub_log=e.customPubLog:K("customPubLog must be a string")),t}(e);e.utCalled=!0,e.tagNumber=o,o++,i.push(n)}})),function(e,t,n){if(ie(Xe||oe(),ze)){var a=void 0,r=void 0,i=void 0,o=void 0,s=void 0,d=void 0;if(!G(Je(Ve)))for(Fe=Je(Ve).split(","),a=0;a<Fe.length;a++){s=Fe[a].split(":");var c=Number(s[0]);if(isNaN(c)||void 0===t[c])K("Invalid ast_override value for index : "+c);else{d=null;var u=null;for(o=0;o<n.length;o++)o===c&&(u=n[o].uuid);for(i=0;i<t.length;i++)t[i].uuid===u&&Ye(t[i],s[1],e)}}if(!G(Je(je)))for(Fe=Je(je).split(","),a=0;a<Fe.length;a++){s=Fe[a].split(":");var l=null,p=Object.keys(e);for(i=0;i<p.length;i++)s[0]===p[i]&&(l=e[p[i]].uuid);if(l)for(r=0;r<t.length;r++)t[r].uuid===l&&Ye(t[r],s[1],e);else K("Invalid ast_override value for target div id : "+s[0])}if(!G(Je(Ge)))for(Fe=Je(Ge).split(","),a=0;a<Fe.length;a++){s=Fe[a].split(":");var g=!1;for(r=0;r<t.length;r++)(d=t[r]).id===Number(s[0])&&(Ye(d,s[1],e),g=!0);g||K("Invalid ast_override value for tag id : "+s[0])}if(!G(Je(He)))for(Fe=Je(He).split(","),a=0;a<Fe.length;a++){s=Fe[a].split(":");var f=!1;for(r=0;r<t.length;r++)(d=t[r]).code===s[0]&&(Ye(d,s[1],e),f=!0);f||K("Invalid ast_override value for invCode : "+s[0])}}}(e.tags,i,n);var s=Ke(),d={rd_ref:s.referer,rd_top:s.reachedTop,rd_ifs:s.numIframes,rd_stk:s.stack.join(",")};if(e.pageUrlOverride){var c=!!(navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(ipad|iphone|ipod)/g)),u=!(!window.webkit||!window.webkit.messageHandlers);(c||u)&&(d.rd_can=e.pageUrlOverride)}r.referrer_detection=d,r.tags=i,r.uuid=ee(),r.member_id=t,r.sdk={source:"ast",version:"0.57.0"};var l=null;if(G(e.keywords)?G(e.targetingParams)||(l=dt(e.targetingParams),r.keywords=l):(l=dt(e.keywords),r.keywords=l),!G(e.user)&&(r.user=function(e){var t={};if(!G(e)){if(e.externalUid&&W(e.externalUid)&&(t.external_uid=e.externalUid),z(e.segments)){var n=[];ne(e.segments,(function(e){j(e)?n.push({id:e}):L(e)&&e.id&&j(e.id)&&e.value&&j(e.value)&&n.push(e)})),t.segments=n}var a=le("user.age",e.age,tt);t.age=a;var r=le("user.gender",e.gender,tt);t.gender=r;var i=le("user.language",e.language,et);t.language=i;var o=le("user.dnt",e.dnt,nt);t.dnt=o;var s=le("user.coppa",e.coppa,nt);t.coppa=s}return t}(e.user),!G(e.user.userIds))){var p=function(e){function t(e,t,n,a){t&&(a?e.push({source:n,id:t,rti_partner:a}):e.push({source:n,id:t}))}var n=[];return z(e)?ne(e,(function(e){if(L(e)&&W(e.type)&&(W(e.id)||z(e.eids)))switch(e.type.toLowerCase()){case"criteo":t(n,e.id,"criteo.com",null);break;case"ttd":t(n,e.id,"adserver.org","TDID");break;case"netid":t(n,e.id,"netid.de",null);break;case"liveramp":t(n,e.id,"liveramp.com",null);break;case"uid2":t(n,e.id,"uidapi.com","UID2");break;case"extendedids":ne(e.eids,(function(e){W(e.source)&&W(e.id)&&n.push({source:e.source,id:e.id})}));break;default:n.push(e)}else Y("Invalid userId object")})):Y("Invalid userIds"),{eids:n}}(e.user.userIds).eids;r.eids=p}if(!G(e.schainConfig)){var g=Ze(e.schainConfig);g&&(r.schain=g)}G(e.device)||(r.device=function(e){var t={},n=e.device;if(!G(n)){G(n.useragent)||(t.useragent=n.useragent),G(n.geo)||(t.geo=n.geo),G(n.ip)||(t.ip=n.ip),G(n.deviceType)||(t.devicetype=n.deviceType),G(n.make)||(t.make=n.make),G(n.model)||(t.model=n.model),G(n.os)||(t.os=n.os),G(n.osVersion)||(t.os_version=n.osVersion),G(n.carrier)||(t.carrier=n.carrier);var a=le("device.connectionType",n.connectionType,tt);t.connectiontype=a,G(n.mcc)||(t.mcc=n.mcc),G(n.mnc)||(t.mnc=n.mnc),G(n.lmt)||(t.lmt=n.lmt),G(n.deviceId)||(t.device_id=n.deviceId);var r=le("device.devTime",n.devTime,tt);t.devtime=r}return t}(e)),G(e.app)||(r.app=function(e){var t={},n=e.app;return G(n)||G(n.appid)||(t.appid=n.appid),t}(e)),G(e.site)||(r.site=function(e){var t={},n=e.site;return G(n)||G(n.id)||(t.id=n.id),t}(e)),e.publisherId&&(r.publisher_id=e.publisherId),e.auctionTimeout&&(r.auction_timeout_ms=e.auctionTimeout),r.tags=i;var f=se(at)||apntag.dongle;f&&!apntag.dongle&&(apntag.dongle=f),((se(rt)||apntag.toolkit)&&f||!G(e.toolkit))&&(r.toolkit={enabled:!0,dongle:f||e.toolkit.dongle});var m=se(ot);m&&""!==m&&(apntag.debug_member=m);var v=se(st);v&&""!==v&&(apntag.debug_bidder=v);var h="TRUE"===se(it).toUpperCase();if(h&&""!==h&&(apntag.requests.test=h),apntag.debug&&!G(apntag.dongle)){var y="";apntag.debug_member&&(y=apntag.debug_member);var b=function(e,t,n){var a={};return apntag.debug&&!G(t)&&(a.enabled=!0,e&&(a.member_id=Number(e)),t&&(a.dongle=String(t)),n&&(a.bidder_id=Number(n)),a.debug_timeout=1e3),a}(y,apntag.dongle,apntag.debug_bidder);r.debug=b}return r},lt={};function pt(e,t){var n=function(e){var t={};return ne(apntag.requests.tags,(function(n){e===n.uuid&&(t=n)})),t}(e.uuid);if(this.targetId=n.targetId,this.uuid=e.uuid,e.nobid)return this.nobid=!0,this.tagId=e.tag_id,this.auctionId=e.auction_id,this;e.ads&&e.ads.length,this.tagId=e.tag_id,this.auctionId=e.auction_id;var a=t||e.ads[0],r=this;ne(mt(a),(function(e,t){r[t]=e}));var i=void 0,o=void 0,s=function(e){var t=[];G(e.sizes)||(t=ct(e.sizes));return t}(n);z(s)&&s[0]&&(i=s[0].height,o=s[0].width);var d=a.content_source?a.content_source:"rtb";if(a[d]&&a[d].banner)this.banner={width:a[d].banner.width,height:a[d].banner.height,content:a[d].banner.content,trackers:a[d].trackers},i=a[d].banner.height,o=a[d].banner.width;else if(a.rtb&&a.rtb.video){var c=a.rtb.video;this.video={duration:c.duration_ms,playbackMethods:c.playback_methods,frameworks:c.frameworks,content:c.content,trackers:a.rtb.trackers}}else if(a.rtb&&a.rtb[p.l.NATIVE]){var u=a.rtb[p.l.NATIVE];this[p.l.NATIVE]=vt(u),n.trackingManagement&&n.trackingManagement.native&&n.trackingManagement.native.loadViewScriptAt===p.c.NATIVE_VIEWABILITY.IMPRESSION||(Q("Loading native viewability script during adResponse phase"),Se(a,this.targetId)),a.renderer_id&&(this.renderer_id=a.renderer_id),a.renderer_url&&(this.renderer_url=a.renderer_url)}this.height=i,this.width=o}var gt=function(e,t){if(!e||!e.uuid)return{};if(lt[e.uuid]&&!t)return lt[e.uuid];try{var n=function(e,t){return new pt(e,t)}(e,t);return t||(lt[e.uuid]=n),n}catch(e){K("adManager.getAdObj: Error trying to instantiate new adObj: "+e.message)}};var ft=function(e,t,n,a){return{code:a,errMessage:e||n.message,exception:n,targetId:t}};function mt(e){return{adType:e.ad_type,buyerMemberId:e.buyer_member_id,source:e.content_source,cpm:e.cpm,cpm_publisher_currency:e.cpm_publisher_currency,publisher_currency_code:e.publisher_currency_code,creativeId:e.creative_id,mediaSubtypeId:e.media_subtype_id,mediaTypeId:e.media_type_id,brandCategoryId:e.brand_category_id,dealId:e.deal_id}}function vt(e){return{type:e.type,title:e.title,body:e.desc,desc2:e.desc2,fullText:e.full_text,icon:e.icon,image:e.main_img,cta:e.ctatext,sponsoredBy:e.sponsored,impressionTrackers:e.impression_trackers,clickTrackers:e.link&&e.link.click_trackers,clickUrl:e.link&&e.link.url,clickFallbackUrl:e.link&&e.link.fallback_url,javascriptTrackers:e.javascript_trackers,video:e.video,privacyLink:e.privacy_link,rating:e.rating,displayUrl:e.displayurl,likes:e.likes,downloads:e.downloads,price:e.price,salePrice:e.saleprice,phone:e.phone,address:e.address,customTitle1:e.title1,customTitle2:e.title2,customTitle3:e.title3,customTitle4:e.title4,customTitle5:e.title5,customBody1:e.body1,customBody2:e.body2,customBody3:e.body3,customBody4:e.body4,customBody5:e.body5,customCta1:e.ctatext1,customCta2:e.ctatext2,customCta3:e.ctatext3,customCta4:e.ctatext4,customCta5:e.ctatext5,customDisplayUrl1:e.displayurl1,customDisplayUrl2:e.displayurl2,customDisplayUrl3:e.displayurl3,customDisplayUrl4:e.displayurl4,customDisplayUrl5:e.displayurl5,customSocialUrl1:e.socialurl1,customSocialUrl2:e.socialurl2,customSocialUrl3:e.socialurl3,customSocialUrl4:e.socialurl4,customSocialUrl5:e.socialurl5,customImage1:e.image1,customImage2:e.image2,customImage3:e.image3,customImage4:e.image4,customImage5:e.image5,customIcon1:e.icon1,customIcon2:e.icon2,customIcon3:e.icon3,customIcon4:e.icon4,customIcon5:e.icon5,customSocialIcon1:e.socialicon1,customSocialIcon2:e.socialicon2,customSocialIcon3:e.socialicon3,customSocialIcon4:e.socialicon4,customSocialIcon5:e.socialicon5}}var ht,yt,bt=(ht=void 0,yt={},{getInstance:function(){return ht||(ht={add:function(e,t){yt[e]=t},getIframe:function(e){return de(yt,e)?yt[e]:null},getIframes:function(){return yt},resetInstance:function(){yt={}}}),ht}}),wt=window.document,It="auto",_t="scroll",Et="getAttribute",St="setAttribute",Tt="removeAttribute",kt=window.Number,xt=kt&&kt.MAX_VALUE,At=-1*xt,Mt="toLowerCase",Ct="toFixed",Dt="length",Rt="overflow",Nt=window.String,qt=window.Math,Pt=Math.max,Ot=Math.min,Ut=Math.round,Bt=window,Lt=window.navigator,Ft=Lt.userAgent||"",Wt=!(!window.ActiveXObject&&"ActiveXObject"in window)&&Bt&&"ActiveXObject"in Bt,zt=function(){var e,t={};t.ie=t.opera=t.gecko=t.webkit=t.safari=t.chrome=t.air=t.ipod=t.ipad=t.iphone=t.android=t.webos=t.silk=t.nodejs=t.phantomjs=0,t.mobile=t.ios=t.caja=Lt&&Lt.cajaVersion;var n=Ft;n&&(rn(/KHTML/,n)&&(t.webkit=1),rn(/IEMobile|XBLWP7/,n)&&(t.mobile="windows"),rn(/Fennec/,n)&&(t.mobile="gecko"),(e=an(n,/AppleWebKit\/([^\s]*)/,1))&&(t.webkit=nn(e),t.safari=t.webkit,rn(/PhantomJS/,n)&&(e=an(n,/PhantomJS\/([^\s]*)/,1))&&(t.phantomjs=nn(e)),rn(/ Mobile\//,n)||rn(/iPad|iPod|iPhone/,n)?(t.mobile="Apple",e=(e=an(n,/OS ([^\s]*)/,1))&&nn(e.replace("_",".")),t.ios=e,t.ipad=t.ipod=t.iphone=0,(e=an(n,/iPad|iPod|iPhone/,0))&&(t[e[Mt]()]=t.ios)):((e=an(n,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(t.mobile=e),rn(/webOS/,n)&&(t.mobile="WebOS",(e=an(n,/webOS\/([^\s]*);/,1))&&(t.webos=nn(e))),rn(/ Android/,n)&&(t.mobile="Android",(e=an(n,/Android ([^\s]*);/,1))&&(t.android=nn(e))),rn(/Silk/,n)&&(e=an(n,/Silk\/([^\s]*)\)/,1))&&(t.silk=nn(e))),(e=n.match(/(Chrome|CrMo)\/([^\s]*)/))&&e[1]&&e[2]?(t.chrome=nn(e[2]),t.safari=0,"CrMo"===e[1]&&(t.mobile="chrome")):(e=an(n,/AdobeAIR\/([^\s]*)/))&&(t.air=e[0])),t.webkit||((e=an(n,/Opera[\s\/]([^\s]*)/,1))?(t.opera=nn(e),(e=an(n,/Opera Mini[^;]*/,0))&&(t.mobile=e)):(e=an(n,/MSIE\s([^;]*)/,1))?t.ie=nn(e):(e=an(n,/Gecko\/([^\s]*)/))&&(t.gecko=1,(e=an(n,/rv:([^\s\)]*)/,1))&&(t.gecko=nn(e)))));return t}(),jt=zt.ie||0,Vt=zt.webkit||0,Gt=zt.gecko||0,Ht=zt.opera||0,Xt=0,Jt={},Yt="clientWidth",Kt="clientHeight";function $t(e){var t,n,a,r,i,o,s,d,c,u={t:0,l:0,r:0,b:0,w:0,h:0,z:0},l="getBoundingClientRect",p=0,g=0,f=0,m=0,v=!1,h=un(e)||Bt.document,y=h.compatMode,b=h.documentMode||0;if(Qt(e))try{if(i=sn(e),t=ln(e),n=hn(e),u.l=e.offsetLeft||0,u.t=e.offsetTop||0,a=e,r=null,v=Gt||Vt>519,!(e===t)&&e[l])Wt&&(!b||b>0&&b<8||"BackCompat"===y)&&(s=t.clientLeft,d=t.clientTop),c=e[l](),u.t=c.top,u.l=c.left,(s||d)&&(u.l-=s,u.t-=d),(n.y||n.x)&&(!zt.ios||zt.ios>=4.2)&&(u.l+=n.x,u.t+=n.y);else{for(;(a=a.offsetParent)&&Qt(a)&&r!==a;)s=a.offsetLeft,d=a.offsetTop,u.t+=d,u.l+=s,v&&(u=dn(a,u)),r=a;if("fixed"!=i.position){for(a=e,r=null;(a=a.parentNode)&&Qt(a)&&r!==a&&a!=t;)p=a.scrollTop,g=a.scrollLeft,Gt&&"visible"!=(o=sn(a))[Rt]&&(u=dn(a,u,o)),(p||g)&&(u.l-=g,u.t-=p),r=a;u.l+=n.x,u.t+=n.y}else u.l+=n.x,u.t+=n.y}e==t?(m=e[Kt],f=e[Yt]):(m=e.offsetHeight,f=e.offsetWidth),u.b=u.t+m,u.r=u.l+f,u.w=Pt(f,0),u.h=Pt(m,0),u.z=i.zIndex}catch(e){u={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return u}function Qt(e){return 1===Zt(e)}function Zt(e){return gn(e&&e.nodeType,-1)}function en(e){return!(!(e=tn(e))||-1!=e.search(/\D+/g))||(!(!e||-1==e.search(/px/gi))||void 0)}function tn(e){var t=typeof e;return"string"==t?e:"number"!=t||e?"object"==t&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?Nt(e):"":"0"}function nn(e){var t=0;return parseFloat(e.replace(/\./g,(function(){return 1==t++?"":"."})))}function an(e,t,n){var a=e&&e.match(t);return null==n?a:a&&a[n]||null}function rn(e,t){return e.test(t)}function on(e){var t,n=null;try{e&&((n=e.parentWindow||e.defaultView||null)||(n=(t=un(e))&&(t.parentWindow||t.defaultView)||null))}catch(e){n=null}return n}function sn(e){var t;if(on(e).getComputedStyle)try{t=on(e).getComputedStyle(e,null)}catch(e){t=null}else try{t=e.currentStyle}catch(e){t=null}return t}function dn(e,t,n){var a=0,r=0;return(n=n||sn(e))&&(a=n.borderTopWidth,r=n.borderLeftWidth,a=en(a)?gn(a,0):0,r=en(r)?gn(r,0):0,Gt&&/^t(?:able|d|h|r|head|foot)$/i.test(mn(e))&&(a=r=0)),(t=t||{t:0,l:0}).t+=a,t.l+=r,t}function cn(e){return e&&(e.parentNode||e.parentElement)}function un(e){var t=null;try{e&&(t=9==Zt(e)?e:e.document||e.ownerDocument||null)}catch(e){t=null}return t}function ln(e){var t=e&&un(e)||wt,n=t.compatMode,a=t.documentElement;return n&&!Ht&&"CSS1Compat"!=n&&(a=t.body),a}function pn(e){var t,n,a,r,i=[-1,-1,-1,-1],o=["clipTop","clipRight","clipBottom","clipLeft"],s=0;if(!e)return i;if(jt)for(;n=o[s];)en(t=e[n])&&(t=gn(t,-1))>=0&&(i[s]=t),s++;else if((t=e.clip)&&-1!=t.search(/\d+/g))for(r=(i=(i=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[Dt]<=1?i.split(","):i)[Dt],s=0;r--;)en(a=i[s])?i[s]=gn(a,-1):i[s]=-1,s++;return i}function gn(e,t,n,a){if("number"!=typeof e)try{e=e?parseFloat(e):kt.NaN}catch(t){e=kt.NaN}return null==a&&(a=xt),null==n&&(n=At),(isNaN(e)||e<n||e>a)&&null!=t?t:e}function fn(e,t){var n=!1,a=e&&e.nodeType||-1,r=t&&t.nodeType||-1;if(1==a&&-1!=r)if(e.contains)if(Ht||1==r)n=e.contains(t);else for(;t;){if(e===t){n=!0;break}t=t.parentNode}else e.compareDocumentPosition&&(n=e===t||!!(16&e.compareDocumentPosition(t)));return n}function mn(e){return e&&1==e.nodeType&&e.tagName[Mt]()||""}function vn(e,t,n){try{arguments[Dt]>2?null===n?e[Tt](t):(n=tn(n),"class"==t[Mt]()?e.className=n:e[St](t,n)):n=tn(e[Et](t))}catch(e){n=""}return n}function hn(e){var t,n,a,r,i={x:0,y:0,w:0,h:0},o={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},s=0,d=0;return n=(t=un(e)||wt).documentElement||o,r=t.body||o,(a=t.defaultView)&&(s=gn(a.pageXOffset,0),d=gn(a.pageYOffset,0)),i.x=Pt(n.scrollLeft,r.scrollLeft,s),i.y=Pt(n.scrollTop,r.scrollTop,d),i.w=Pt(n.scrollWidth,r.scrollWidth,0),i.h=Pt(n.scrollHeight,r.scrollHeight,0),i}function yn(e,t,n){var a,r,i,o,s,d,c,u,l,p,g,f,m,v,h,y,b,w,I,_,E,S,T,k,x,A,M,C,D,R,N,q,P,O,U,B=e&&cn(e),L=ln(e),F=$t(e),W=$t(L),z=hn(L),j=function(e){var t=ln(e),n=0,a=0;return t&&(n=t.scrollWidth||0,a=t.scrollHeight||0),{t:0,l:0,b:a,r:n,w:n,h:a}}(e),V={t:0,l:0,r:0,b:0,w:0,h:0},G={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},H=[],X=!1,J={left:null,right:null,top:null,bottom:null};if(t=t&&"object"==typeof t?t:{},B)for(a=W.t,r=W.l,i=W.r,o=W.b;(c=sn(B))&&("block"!=c.display&&"absolute"!=c.position&&"none"==c.float&&"none"==c.clear||(X=B==L,p=(O=$t(B)).t,g=O.l,f=O.r,m=O.b,_=c[Rt+"X"],E=c[Rt+"Y"],S=c[Rt],T=X?[-1,-1,-1,-1]:pn(c),U=!1,X?(v=z.w,b=z.h):(v=B.scrollWidth,b=B.scrollHeight),h=B.offsetWidth,w=B.offsetHeight,y=B[Yt],I=B[Kt],!d&&h>y&&(d=h-y),!s&&w>I&&(s=w-I),X?(v>y&&((g=0)>r&&(r=g),(f=(Bt.innerWidth||h)+z.x)<i&&(i=f)),b>I&&((p=0)>a&&(a=p),(m=(Bt.innerHeight||w)+z.y)<o&&(o=m))):(d&&f-g==h&&(f-=d),s&&m-p==w&&(m-=s),"hidden"!=_&&_!=_t&&_!=It&&"hidden"!=S&&S!=_t&&S!=It||(g>r&&(r=g,J.left=B),f<i&&(i=f,J.right=B),(_==_t||S==_t||(_==It||S==It)&&v>y)&&(H.push(B),U=!0)),T[3]>0&&(C=g+T[3])>r&&(r=C,J.left=B),T[1]>0&&(D=f+T[1])<i&&(i=D,J.right=B),"hidden"!=E&&E!=_t&&E!=It&&"hidden"!=S&&S!=_t&&S!=It||(p>a&&(a=p,J.top=B),m<o&&(o=m,J.bottom=B),U||(E==_t||S==_t||(E==It||S==It)&&b>I)&&(H.push(B),U=!0)),T[0]>0&&(A=p+T[0])>a&&(a=A,J.top=B),T[2]>0&&(M=O.t+T[2])<o&&(o=M,J.bottom=B))),B!=L)&&(B=cn(B))&&mn(B););return(V={t:Pt(a,0),l:Pt(r,0),r:Pt(i,0),b:Pt(o,0)}).w=Pt(V.r-V.l,0),V.h=Pt(V.b-V.t,0),g=F.l,f=F.r,p=F.t,u=f-g,l=(m=F.b)-p,C=V.l,D=V.r,A=V.t,D-C,(M=V.b)-A,x=(x=(x=Ot(m,M)-Pt(p,A))<0?0:x)>l?l:x,k=(k=(k=Ot(f,D)-Pt(g,C))<0?0:k)>u?u:k,G.t=A<p?M<=p?0:Pt(p-A,0):0,G.b=M>m?m<=A?0:Pt(M-m,0):0,G.l=C<g?D<=g||M<=p||m<=A?0:Pt(g-C,0):0,G.r=D>f?f<=C||M<=p?0:Pt(D-f,0):0,G.w=Pt(G.r-G.l,0),G.h=Pt(G.b-G.t,0),G.xiv=u>0?gn((k/u)[Ct](2)):0,G.yiv=l>0?gn((x/l)[Ct](2)):0,G.iv=u>0||l>0?gn((k*x/(u*l))[Ct](2)):0,G.civ=0,n&&G.iv>.49&&(R=(P=function(e){var t,n,a,r,i,o,s,d,c,u,l,p,g,f,m,v,h=$t(e),y=un(e),b=ln(y),w=h.t,I=h.l,_=[],E=0;if(_.on=0,t=h.w,n=h.h,i=a=Ut(t/10),o=r=Ut(n/10),t<=1||n<=1||a<1||r<1)return _;if(m=(v=hn()).y,f=v.x,p=I+t,g=w+n,y&&b&&y.elementFromPoint){for(;i<t;){for(o=r;o<n;)d=w+o,(s=I+i)<=p&&d<=g&&_.push({x:s,y:d,on:0}),o+=r;i+=a}for(;c=_[E++];)s=Pt(c.x-f,0),s=Ot(s,c.x),d=Pt(c.y-m,0),d=Ot(d,c.y),0!=s?0!=d?(l=y.elementFromPoint(s,d))&&l!==b&&l!==e&&!fn(l,e)&&((u=vn(l,"id"))||vn(l,"id",u=tn(["geom_inter"||"","_",(new Date).getTime(),"_",qt.round(100*qt.random()),"_",Xt++])),c.on=u,_.on++):(c.on="!y-offscreen",_.on++):(c.on="!x-offscreen",_.on++)}return _}(e))[Dt],(N=gn(P.on,0))&&(q=1-gn((N/R)[Ct](2),0),G.civ=G.iv=q)),t.rect=F,t.clipRect=V,t.docRect=j,H[Dt]?(t.isRoot=!1,t.canScroll=!0,G.xs=!!s,G.ys=!!d):W.b>=V.b||W.r>=V.r?(t.isRoot=!0,G.xs=!!(j.w>W.w&&s),G.ys=!!(j.h>W.h&&d),t.canScroll=j.w>W.w||j.h>W.h):G.ys=G.xs=t.isRoot=t.canScroll=!1,t.scrollNodes=H,t.clipNodes=J,t.expRect=G,G}function bn(e,t,n){var a,r,i,o,s,d,c,u,l,p,g,f,m={},v={};if(yn(t,v,!0),!n&&!v.isRoot&&v.canScroll&&((r=v.expRect).xs||r.ys)){In(e),a=[],Jt[e]=a;for(var h=0;h<v.scrollNodes.length;h++){var y=v.scrollNodes[h],b={};b.node=y,b.onscroll=function(t){wn(t,e,y)},O(y,_t,b.onscroll),a.push(b)}}return m.win=(s=o&&on(o)||Bt,d=s.innerHeight||0,c=s.innerWidth||0,u=s.screenY||s.screenTop||0,l=d+u,p=s.screenX||s.screenLeft||0,g=c+p,f=ln(o),d||c||!f||(d=f.clientHeight||0,g=p+(c=f.clientWidth||0),l=u+d),{t:u,l:p,b:l,r:g,w:c,h:d}),m.par=v.clipRect,r=v.expRect,(i=v.rect).iv=r.iv,i.xiv=r.xiv,i.yiv=r.yiv,delete r.iv,delete r.xiv,delete r.yiv,m.exp=r,m.self=i,m}function wn(e,t,n){var a=Jt[t];if(a)for(var r=0;r<a.length;r++){var i=a[r];if(i.node===n){i.tID&&(clearTimeout(i.tID),delete i.tID),i.tID=setTimeout((function(){var e=bt.getInstance().getIframe(t);e&&ra(e.iframe,t,bn(t,e.iframe,!0))}),$n);break}}}function In(e){var t,n=Jt[e];if(n)for(;t=n.pop();)t.tID&&clearTimeout(t.tID),U(t.node,_t,t.onscroll),t.node=t.onscroll=null,Jt[e]=null;delete Jt[e]}var _n=pe();function En(e){b({strategy:"WithAttributes",data:{id:"itunes-launch-store",src:e.detail.url}})}var Sn=[],Tn={},kn={},xn=[],An={},Mn=we((function(){O(_n,"focus",ea),O(_n,"blur",ta),O(_n,"resize",ia),O(_n,"scroll",ia),O(_n,"pagehide",(function(){try{U(_n,"focus",ea),U(_n,"blur",ta),U(_n,"resize",ia),U(_n,"scroll",ia),oa()}catch(e){}}))})),Cn=pe(),Dn=!1,Rn=!1,Nn={},qn=void 0,Pn={},On=function(){return Nn},Un=function(e){Nn=e},Bn=function(){return Pn},Ln=function(e){Pn=e},Fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(Rn=t,qn=ie(e,"http")||ie(e,"https")?e:"https://"+e,J("Setting endpoint to: "+qn)):K("Cannot set an empty endpoint")},Wn=function(e){Dn=e},zn=function(){return Dn};var jn=void 0,Vn=void 0,Gn=!0,Hn=function(e,t){var n=t,a=void 0,r=void 0;function i(e){var t=Gn?"tcString":"consentData";Gn&&e&&e.gdprApplies&&(e.purpose&&e.purpose.consents&&!e.purpose.consents[1]?Wn(!0):e.purpose&&e.purpose.consents&&!0===e.purpose.consents[1]&&Wn(!1));var n={consent_string:e?e[t]:void 0,consent_required:e?e.gdprApplies:void 0};if(e&&e.addtlConsent&&"string"==typeof e.addtlConsent&&-1!==e.addtlConsent.indexOf("~")){var a=e.addtlConsent.substring(e.addtlConsent.indexOf("~")+1);n.addtl_consent=ce(a.split("."),(function(e){return parseInt(e,10)}))}Vn.gdpr_consent=n}function o(e){clearTimeout(a),i(jn),we(s(e))}function s(e){e&&Y(e+" Resuming request without consent information."),n()}if((Vn=e).consentManagement&&(Vn.consentManagement.disabled||Vn.consentManagement.tcf&&Vn.consentManagement.tcf.disabled))return Q("TCF Consent module was disabled."),we(s());var d=1e4;if(Vn.consentManagement&&j(Vn.consentManagement.timeout)&&(d=Vn.consentManagement.timeout),jn)return i(jn),we(s());a=setTimeout((function(){o(jn?"":"CMP workflow exceeded timeout threshold.")}),d),function(e,t){var n,a,i={};try{(r=window.__tcfapi||window.top.__tcfapi)||(r=window.__cmp||window.top.__cmp)&&(Gn=!1)}catch(e){}if(F(r))r(Gn?"addEventListener":"getConsentData",null,e);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)Gn=!1,n=Object.keys(Vn.tags),a=ct(Vn.tags[n[0]].sizes),window.$sf.ext.register(a[0].width,a[0].height,(function(t,n){"cmpReturn"===t&&e(n.vendorConsentData)})),window.$sf.ext.cmp("getConsentData");else{for(var o=window,s=void 0;!s;){try{(o.frames.__tcfapiLocator||o.frames.__cmpLocator)&&(s=o),o.frames.__cmpLocator&&(Gn=!1)}catch(e){}if(o===window.top)break;o=o.parent}if(!s)return t("TCF CMP not found.");!function(t){var n=Gn?"__tcfapi":"__cmp";window[n]=function(e,a,r){var o,s,d,c=""+Math.random(),u=(d={command:e,parameter:a,callId:c},(s=n+"Call")in(o={})?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o);i[c]=r,t.postMessage(u,"*")},O(window,"message",a,!1),Gn?window.__tcfapi("addEventListener",null,r):window.__cmp("getConsentData",null,r);function a(e){var t=Gn?"__tcfapiReturn":"__cmpReturn",n="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;if(n[t]){var a=n[t];i[a.callId](a.returnValue,a.success),Gn||delete i[a.callId]}}function r(t,n){Gn||U(window,"message",a,!1),e(t,n)}}(s)}}((function(e,t){Gn?!t||"object"!=typeof e||!0===e.gdprApplies&&"string"!=typeof e.tcString?o("TCF CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):"useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus?(clearTimeout(a),i(jn=e),we(s())):"cmpuishown"===e.eventStatus&&(jn=e,e.tcString&&e.purposeOneTreatment&&(clearTimeout(a),i(jn),we(s()))):"object"!=typeof e||"string"!=typeof e.consentData||""===e.consentData?o("CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(a),i(jn=e),we(s()))}),o)},Xn=p.q.NUM,Jn=0,Yn=0,Kn=0,$n=500,Qn=function(e){J("Expand iframe started by host");var t=!1,n=!1,a=0,r=0,i=0,o=0,s=void 0,d=void 0,c=pe().document.getElementById(p.n.UT_DIV+e.targetId),u=bt.getInstance().getIframe(e.targetId),l=u.iframe.style;c||(c=u.iframe.parentNode);var g=c.style;g.display="";var f=parseInt(g.width,10),m=parseInt(g.height,10);if(isNaN(f)&&(f=0),isNaN(m)&&(m=0),e.bounds.multiDir?(i=f+(d=le("data.bounds.left",e.bounds.left,Xn))+le("data.bounds.right",e.bounds.right,Xn),o=m+(s=le("data.bounds.top",e.bounds.top,Xn))+le("data.bounds.bottom",e.bounds.bottom,Xn),s?(r=-1*s,n=!0):r=0,d?(a=-1*d,t=!0):a=0):(i=(t=(a=e.bounds.x)<0)?f+-1*a:f+a,o=(n=(r=e.bounds.y)<0)?m+-1*r:m+r),!(i<=f&&o<=m)){l.width=i+"px",l.height=o+"px",t&&(l.left=a+"px"),n&&(l.top=r+"px"),l.zIndex=p.p.DEFAULT_ZINDEX,l.position="relative",g.position="relative",e.bounds.push?(g.width=i+"px",g.height=o+"px"):(g.width=f+"px",g.height=m+"px");var v=function(){!function(e,t,n){var a=n.iframe.contentWindow,r={};r.targetId=t.targetId,r.status=e,r.geom=Zn(t.targetId,n.iframe),da(a,JSON.stringify(r),ye())}(p.p.STATUS.NOTIFY_EXPANDED,e,u)};e.ext&&"number"==typeof e.ext.tweenTime?function(e,t,n,a){var r=t.style;r.transition="height "+e.ext.tweenTime+"ms ease",r.height=n,r["overflow-y"]="hidden",O(t,"transitionend",(function(){"function"==typeof a&&a()}))}(e,u.iframe,o,v):v()}};var Zn=function(e,t){var n=bn(e,t);return n.anx=function(){try{if(void 0!==window.top.location.href){var e=window,t=0,n=0;do{t+=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop,n+=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft,e=e.parent}while(e.parent!==window.top);return{scrollTop:t,scrollLeft:n}}}catch(e){}return{scrollTop:0,scrollLeft:0}}(),n},ea=function(){na(!0)},ta=function(){na(!1)};function na(e){aa(),Yn=window.setTimeout((function(){var t,n;t=e,n=bt.getInstance().getIframes(),ne(n,(function(e,n){var a=apntag.requests.tags[n];if(a.alwaysUseXDomainIframe||a.enableSafeFrame){var r=e.iframe.contentWindow,i={};i.targetId=n,i.value=t,i.status=p.p.STATUS.FOCUS_CHANGE,da(r,JSON.stringify(i),ye())}})),aa()}),2)}function aa(){Yn&&(clearTimeout(Yn),Yn=0)}var ra=function(e,t,n){var a=e.contentWindow,r={};r.targetId=t,r.geom=n,r.status=p.p.STATUS.GEOM_UPDATE,da(a,JSON.stringify(r),ye())};var ia=function(){Jn||(Jn=window.setTimeout(sa,$n))},oa=function(){var e=bt.getInstance().getIframes();ne(e,(function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(clearInterval(Kn),Kn=0,In(t))}))};function sa(){var e=bt.getInstance().getIframes();ne(e,(function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&function(e,t){ra(e,t,Zn(t,e))}(e.iframe,t)})),Jn&&(clearTimeout(Jn),Jn=0)}var da=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),e?e.postMessage(t,n):J("Safeframe not yet rendered")},ca=function(){var e={},t=[],n="";return{invokeNotify:function(n,a,r){t.push(s(n,a,r)),ne(e,(function(e){e.addNotifyMessage(s(n,a,r)),"loading"!==e.status&&o(e)}))},loadRenderer:function(t,n){var a=n.renderer_id;if(t.enableSafeFrame&&(!window.$sf||!window.$sf.ext))return a=function(e,t){return t.renderer_id+"_"+e.targetId}(t,n),void(e[a]=c(n.renderer_url,a,t));var o=e[a];if(o){var s=e[a];"loaded"===o.status?(l(t),r(s,t,i),t.displayed=!0):o.addTag(t)}else Z(window,n.renderer_url),e[a]=c(n.renderer_url,a,t)},setRendererStatus:function(t,n){var a=e[t];a&&(a.status=n,o(a))},registerRenderer:function(t,s,d){if(n=d,s=a(s),t&&e[t]&&L(s)){var c=e[t];c.renderFn=s.renderAd,c.notifyFn=s.notify,c.status="loaded",window.currentTag&&window.currentTag.enableSafeFrame&&(u=window.currentTag,p=t,g="loaded",f={name:"updateRenderStatus",targetId:u.targetId,rId:p,status:g},da(window.parent,f,n)),o(c),ne(c.getTags(),(function(e){e.displayed||(l(e),r(c.renderFn,e,(function(e,t){i(e,t,c)})),e.displayed=!0)}))}else K("ast.js","registerRenderer must be called with (id, cbFn)");var u,p,g,f},clearState:function(){e={},t=[]}};function a(e){return F(e)?{renderAd:e,notify:function(){}}:L(e)&&F(e.renderAd)?{renderAd:e.renderAd,notify:e.notify}:void 0}function r(e,t,n){F(e)?e.call(apntag,t,n):L(e)&&(F(e.renderFn)?e.renderFn.call(apntag,t,n):K("Error invoking rendererObj.renderAd(). renderAd must be a function"))}function i(e,t,a){a&&a.isSafeFrame?function(e,t){var a={name:"emitEvent",cmd:[e,t]};if(da(window.parent,a,n),apntag.mockSfListner&&apntag.mockSfListner.handler){apntag.mockSfListner.handler(apntag.mockSfListner.adObj);var r={name:"resizeAd",targetId:e,cmd:["auto","auto"]};da(window.parent,r,n)}}(e,t):apntag.emitEvent(e,t)}function o(e){F(e.notifyFn)&&ne(e.getNotifyMessages(),(function(t){t.sent||(t.sent=!0,e.notifyFn(t.messageType,t.messagePayload,t.targetId))}))}function s(e,t,n){return{messageType:e,messagePayload:t,targetId:n,sent:!1}}function d(e,t,n){var a=[],r=[];this.getTags=function(){return a},this.addTag=function(e){a.push(e)},this.addNotifyMessage=function(e){r.push(e)},this.getNotifyMessages=function(){return r},this.url=e,this.id=t,this.status="loading",this.renderFn=function(){},this.notifyFn=u,this.isSafeFrame=n.enableSafeFrame||!1,this.addTag(n)}function c(e,n,a){var r=new d(e,n,a);return function(e){ne(t,(function(t){e.addNotifyMessage(t)}))}(r),r}function u(e,t,n){!function(e,t,n){var a=bt.getInstance().getIframe(n).iframe.contentWindow;da(a,{messageType:e,messagePayload:t,status:"notify",targetId:n},ye())}(e,t,n=n||this.getTags()[0].targetId)}function l(e){if(!e||!e.isMediated){var t=Be(e);te(window.document.body,t[ua],t[la])}}}(),ua=p.a.NOTIFY,la=p.a.CREATIVE_ID;var pa=function(e){if(e){if(e.member&&(apntag.requests.member=Number(e.member)),e.targetingParams&&(apntag.requests.targetingParams=e.targetingParams,Y("targetingParams will be deprecated soon. Please use keywords instead")),e.keywords&&(apntag.requests.keywords=e.keywords),e.user&&(apntag.requests.user=e.user),e.app&&(apntag.requests.app=e.app),e.device&&(apntag.requests.device=e.device),e.geoOverride){var t=function(e){var t=e.countryCode;if("string"==typeof t&&2===t.length){var n=e.zip;if(!("string"!=typeof n||n.length<1))return{countryCode:t.toUpperCase(),zip:n};Y("Ignoring geoOveride options, Invalid zip code, it should be of type String and of atleast 1 character.")}else Y("Ignoring geoOveride options, Invalid country code, it should be of type String and of 2 characters.")}(e.geoOverride);t&&(apntag.requests.geoOverride=t)}if(e.site&&(apntag.requests.site=e.site),e.disablePsa&&(apntag.requests.disablePsa=!0),apntag.requests.enableSafeFrame=!1,e.enableSafeFrame&&(Mn(),apntag.requests.enableSafeFrame=!0),e.publisherId&&(apntag.requests.publisherId=e.publisherId),e.consentManagement&&(apntag.requests.consentManagement=e.consentManagement),e.auctionTimeout&&(apntag.requests.auctionTimeout=e.auctionTimeout),e.enableMediationEvents&&(apntag.requests.enableMediationEvents=!0),e.us_privacy&&(W(e.us_privacy)?apntag.requests.us_privacy=e.us_privacy:Y("Ignoring us_privacy, it should be a string")),e.pageUrl&&(apntag.requests.pageUrlOverride=e.pageUrl),e.test&&(apntag.requests.test=!0),e.schain&&(apntag.requests.schainConfig=e.schain),e.trackingManagement){var n=e.trackingManagement;if(n.native&&n.native.loadViewabilityScriptAt){var a=W(n.native.loadViewabilityScriptAt)?n.native.loadViewabilityScriptAt.toLowerCase():null;!a||a!==p.c.NATIVE_VIEWABILITY.AD_RESPONSE&&a!==p.c.NATIVE_VIEWABILITY.IMPRESSION?Y('Ignoring trackingManagement.native.loadViewabilityScriptAt, it should be either "impression" or "adResponse"'):(apntag.requests.trackingManagement=apntag.requests.trackingManagement||{},apntag.requests.trackingManagement.native={loadViewScriptAt:a})}if(n.userSync){var r={};j(n.userSync.syncDelay)&&(r.syncDelay=n.userSync.syncDelay),"boolean"==typeof n.userSync.syncEnabled&&(r.syncEnabled=n.userSync.syncEnabled),j(n.userSync.publisherId)&&(r.publisherId=n.userSync.publisherId),j(n.userSync.sellerId)&&(r.sellerId=n.userSync.sellerId),apntag.requests.trackingManagement=apntag.requests.trackingManagement||{},apntag.requests.trackingManagement.userSync=r}}if(e.renderingManagement){var i=e.renderingManagement;apntag.requests.renderingManagement=apntag.requests.renderingManagement||{},"boolean"==typeof i.insertWrapperDiv&&(apntag.requests.renderingManagement.insertWrapperDiv=i.insertWrapperDiv),"boolean"==typeof i.sandboxAdIframe&&(apntag.requests.renderingManagement.sandboxAdIframe=i.sandboxAdIframe),Array.isArray(i.sandboxAttributes)&&(apntag.requests.renderingManagement.sandboxAttributes=i.sandboxAttributes)}}},ga=void 0,fa=function(e){if(!function(e){if(z(e)&&e.length>0)return!0;return Q("No size mapping defined"),!1}(e.sizeMapping))return e.sizes;var t,n,a,r=(n=t||ga||pe(),a=n.document,n.innerWidth?n.innerWidth:a.body.clientWidth?a.body.clientWidth:a.documentElement.clientWidth?a.documentElement.clientWidth:0),i=void 0;if(!r){i=e.sizeMapping[0];for(var o=0;o<e.sizeMapping.length;o++)parseInt(e.sizeMapping[o].minWidth,10)>parseInt(i.minWidth,10)&&(i=e.sizeMapping[o]);return i.sizes?i.sizes:e.sizes}for(var s="",d=e.sizeMapping.slice().sort((function(e,t){return e.minWidth-t.minWidth})),c=0;c<d.length;c++)r>=d[c].minWidth&&(i=d[c]);return i&&i.sizes?(s=i.sizes,J("tag : "+e.targetId+" resized based on device width to : "+s)):J("tag : "+e.targetId+" not mapped to any sizes for device width. This request will be suppressed."),s};var ma=p.m.UNDEFINED,va=p.c.NATIVE_VIEWABILITY.AD_RESPONSE;function ha(e,t){var n=!1,a=e;if(2===arguments.length?(a=Cn.apntag.requests.tags[t],(e.sizes&&a.sizeMapping||e.sizeMapping&&!a.sizeMapping)&&(n=!0)):(t=e.targetId,e.sizes&&e.sizeMapping&&(n=!0)),n)return K("sizes and sizeMapping both cannot be defined for targetId: "+t),!1;if(e.sizeMapping){var r=fa(e);if(""===r)return"";e.sizes=r}return!0}var ya=function(e){if(e.rid&&(apntag.requests.keywords.rid=e.rid),e.provider_id&&(apntag.requests.keywords.provider_id=e.provider_id),e.debug&&(apntag.debug=e.debug),e.astToolkit&&e.astDongle&&(apntag.requests.toolkit={enabled:!0,dongle:e.astDongle}),e.size)K("Size is deprecated, please use sizes instead.");else if(e.member?e.member=Number(e.member):e.member=apntag.requests.member,e.member||(e.member="none"),e.tagId||e.invCode&&e.member){if(e.sizeMapping)if(!ha(e))return void K("tag not mapped to any sizes for device width: "+e.targetId);try{var t=e.targetId,n=function(e,t){var n=e.member;apntag.requests=apntag.requests||{},apntag.requests.tags=apntag.requests.tags||{},apntag.requests.utCalled=apntag.requests.utCalled||!1,apntag.requests.hasLeft=apntag.requests.hasLeft||!1,apntag.requests.cbCalled=apntag.requests.cbCalled||!1,apntag.requests.enableSafeFrame&&(e.enableSafeFrame=!0),e.safeframe=fe(An)||{},de(e,"safeframeConfig")&&(de(e.safeframeConfig,"allowExpansionByPush")&&(e.safeframe.expansionByPush=e.safeframeConfig.allowExpansionByPush),de(e.safeframeConfig,"allowExpansionByOverlay")&&(e.safeframe.expansionByOverlay=e.safeframeConfig.allowExpansionByOverlay),de(e.safeframeConfig,"sandbox")&&(e.safeframe.sandbox=e.safeframeConfig.sandbox),de(e.safeframeConfig,"meta")&&(e.safeframe.meta=e.safeframeConfig.meta)),apntag.requests.tags[t]=e,apntag.requests.tags[t].utCalled=apntag.requests.tags[t].utCalled||!1,apntag.requests.tags[t].showTagCalled=apntag.requests.tags[t].showTagCalled||!1,apntag.requests.tags[t].displayed=apntag.requests.tags[t].displayed||!1,apntag.requests.tags[t].initialHeight=1,apntag.requests.tags[t].initialWidth=1,apntag.requests.tags[t].on=apntag.onEvent||void 0,apntag.requests.tags[t].off=apntag.offEvent||void 0,apntag.requests.tags[t].setSizes=apntag.setSizes||void 0,apntag.requests.tags[t].modifyTag=apntag.modifyTag||void 0,apntag.requests.tags[t].trackingManagement=apntag.requests.trackingManagement||{native:{loadViewScriptAt:va}},apntag.requests.tags[t].renderingManagement||(apntag.requests.tags[t].renderingManagement={});return["insertWrapperDiv","sandboxAdIframe","sandboxAttributes"].forEach((function(n){e.renderingManagement&&de(e.renderingManagement,n)?apntag.requests.tags[t].renderingManagement[n]=e.renderingManagement[n]:apntag.requests.renderingManagement&&de(apntag.requests.renderingManagement,n)&&(apntag.requests.tags[t].renderingManagement[n]=apntag.requests.renderingManagement[n])})),apntag.requests.tags[t].refresh=function(){return apntag.refresh(this.targetId)},apntag.requests.tags[t].setKeywords=function(e,t){return apntag.setKeywords(this.targetId,e,t)},Tn[n]=typeof Tn[n]===ma?[]:Tn[n],Tn[n].push(e.targetId),Bn()[e.targetId]&&(apntag.requests.tags[t].showTagCalled=!0),apntag.requests.tags[t]}(e,t);return J("defineTag called for: "+t),apntag.requests&&!0===apntag.requests.utCalled&&!apntag.requests.tags[t].utCalled&&J("A placement was loaded after ut call was started. These ad calls will not be coordinated"),n}catch(e){K("buildAdTagContainer: "+e.message)}}else K("tagId or (invCode & memberId) should be defined for targetId: "+e.targetId)},ba=function(e){Q("Invoking apntag.defineTag",arguments);var t=ya(e);if(t){if(xn.push(t),kn[t.targetId])return kn[t.targetId];var n={targetId:t.targetId,on:t.on,off:t.off,modifyTag:t.modifyTag,setKeywords:t.setKeywords};return kn[t.targetId]=n,n}K("No ad will be requested for targetId: "+e.targetId)},wa=function(e){var t=_a()+e.map((function(e){return'\n      <table style="border: 1px solid black; border-radius: 5px; font-family: sans-serif; margin: 1em; padding: .5em">\n        <tr>\n          <td style="padding-right: 5em;"><b>Target&nbsp;ID</b></td>\n          <td style="width: 100%;">'+Ea(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Creative ID</b></td>\n          <td>"+Ta(e,"creative_id")+"</td>\n        </tr>\n        <tr>\n          <td><b>Buyer Member ID</b></td>\n          <td>"+Ta(e,"buyer_member_id")+"</td></tr>\n        <tr>\n          <td><b>Creative Size</b></td>\n          <td>"+function(e){if(e.nobid)return Sa;var t=null,n=null,a=e.ads&&e.ads.length?e.ads[0]:{};return a.rtb&&a.rtb.banner&&(t=a.rtb.banner.height,n=a.rtb.banner.width),t&&n?n+" x "+t:""}(e)+"</td>\n        </tr>\n        <tr>\n          <td><b>Available Sizes</b></td>\n          <td>"+function(e){try{var t=Ea(e),n=apntag.requests.tags[t].sizes;return JSON.stringify(n)}catch(e){return""}}(e)+"</td></tr>\n        <tr>\n          <td><b>Winning Bid</b></td>\n          <td>"+Ta(e,"cpm")+"</td></tr>\n        <tr>\n          <td><b>Demand Source</b></td>\n          <td>"+function(e){if(e.nobid)return Sa;var t=function(e){var t=apntag.requests.tags;if(e.ads.length&&e.ads[0].seller_member_id)return e.ads[0].seller_member_id;for(var n in t)if(t.hasOwnProperty(n)&&t[n].uuid===e.uuid)return t[n].member;return null}(e);return e.ads[0].csm?"CSM":e.ads[0].buyer_member_id===t||e.ads[0].deal_id?e.ads[0].buyer_member_id!==t&&e.ads[0].deal_id?"Deal":e.ads[0].buyer_member_id===t?"Direct":"":"RTB"}(e)+"</td></tr>\n        <tr>\n          <td><b>Ad Type</b></td>\n          <td>"+Ta(e,"ad_type")+"</td></tr>\n        <tr>\n          <td><b>Media Type</b></td>\n          <td>"+Ta(e,"media_type_id")+'</td></tr>\n        <tr>\n          <td style="color: #555; font-size: smaller; padding-top: .5em;" colspan="2">\n            Console Ad Profile:\n            <a href="'+function(e){return"//console.appnexus.com/ad-quality?id="+e.placement.publisher.id}(e)+'" target="_blank">'+e.ad_profile_id+"</a>\n            "+function(e){return e.ads?'| <a href="//ib.adnxs.com/cr?id='+e.ads[0].creative_id+'" target="_blank">Creative Preview<a/>':""}(e)+"\n          </td>\n        </tr>\n      </table>\n    "})).join(" "),n=document.body,a=document.createElement("div");a.id="appnexus_debug_window";var r=document.createElement("div");r.style.width="100%",r.style.height="400px",r.style.clear="both",n.insertBefore(r,null);var i=a.style;i.position="fixed",i.bottom="0px",i.left="0px",i.width="100%",i.height="450px",i.overflow="hidden",i["border-top"]="1px solid",i["z-index"]=999999,i.background="white",n.insertBefore(a,null);var o=document.createElement("div");o.style.width="100%",o.style.height="30px";var s=Ia();a.appendChild(s);var d=s.contentWindow.document;d.open(),d.write(t),d.close()};function Ia(){var e=document.createElement("iframe");return e.id="appnexus-debug-console-loader",e.height="100%",e.width="100%",e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.frameBorder="0",e}function _a(){return'<div style="margin-top:10px;margin-bottom:10px;"><span style="font-weight:bold">AST Dongle Value:</span> <input\n            id="ast-dongle-input"\n            type="text"\n            length="400"\n            style="border-radius:5px;"\n            placeholder="Enter ast_dongle value"\n            value=null\n         /></div>'}function Ea(e){try{return Object.keys(apntag.requests.tags).filter((function(t){return apntag.requests.tags[t].uuid===e.uuid}))[0]}catch(e){return""}}var Sa='<span style="color: #ccc">nobid</span>';function Ta(e,t){if(e.nobid)return Sa;var n=e.ads&&e.ads[0][t];return n||0===n?n:""}var ka=function(){var e=navigator.userAgent.toLowerCase();return(/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[])[1]},xa=p.b.BANNER,Aa=p.b.NATIVE,Ma=p.r.AD_TYPE,Ca=p.b.VIDEO,Da=p.r.BANNER,Ra=p.r.CONTENT,Na=p.a.CREATIVE_ID,qa=p.i,Pa=p.a.IMP_URLS,Oa=p.a.NOAD,Ua=p.m.OBJECT,Ba=p.e.RTB,La=p.a.TRACKERS,Fa=p.m.UNDEFINED,Wa=function(e,t,n,a){var r=void 0,i=void 0,o=void 0,s=e.adResponse;!function(e){if(e.adResponse&&e.adResponse.ads){var t=ge(e.adResponse.ads);if(t.banner){var n=e.initCollapsed,a=n&&n.expandBy&&be(qa).indexOf(n.expandBy)>=0;n&&!a&&Y("TagID "+e.tagId+" initCollapsed is set but expandBy is not recognized, initial size will not be collapsed"),e.initialHeight=a?0:t.banner.height,e.initialWidth=a?0:t.banner.width}}}(e);var d,c=Be(e);if(typeof c===Fa||null===c||typeof c.error!==Fa)return d=s,void te(window.document.body,d[Oa],d.uuid);if(s&&e.showTagCalled){if(function(e,t){if(t.renderer_url&&t.renderer_id){if(e.usesRenderer=!0,2===t.renderer_id&&e.enableSafeFrame&&(e.safeframe.expansionByPush=!0,e.customIframeProps={style:"overflow:hidden",allow:"autoplay"}),"native"===t.ad_type&&e.trackingManagement&&e.trackingManagement.native&&e.trackingManagement.native.loadViewScriptAt===p.c.NATIVE_VIEWABILITY.IMPRESSION&&(Q("Loading native viewability script during native render sequence"),Se(t,e.targetId)),!e.enableSafeFrame)return function(e,t){var n=Le(t);if(typeof n===Fa)return K("No Content Source Found"),void(e.displayed=!1);t[t.ad_type]=n;(function(e){e.isMediated||e.isRtbVideoFallback||(e.adResponse.ad=e.adResponse.ads[0])})(e),ca.loadRenderer(e,t)}(e,t),!0;ca.loadRenderer(e,t)}}(e,c))return e.targetId;if(c[Ma]===Aa&&!e.usesRenderer)return J("Render for the following ad should be handled outside of ast.js :"+e.targetId),e.displayed=!0,o=gt(e.adResponse),Ae.emit(p.h.LOADED,e.targetId,o),$("The "+e.targetId+" ad is loaded."),e.targetId;if(c[Ma]===Ca&&!e.usesRenderer)return Y("Response has no renderer for video"),e.displayed=!1,e.targetId;if(c[Ma]===xa||e.usesRenderer){if(c.content_source===Ba&&!e.usesRenderer){var u=c[Ba][Da];if(G(u)||typeof u!==Ua)return K("Response has no banner object"),e.displayed=!1,e.targetId;if(!de(u,Ra))return K("Response has no banner content"),e.displayed=!1,e.targetId;if(!de(u,"width"))return K("Response has no banner width"),e.displayed=!1,e.targetId;if(!de(u,"height"))return K("Response has no banner height"),e.displayed=!1,e.targetId}var l=void 0;de(n,e.targetId)&&(l=n[e.targetId]);var g=void 0;if(e.alwaysUseXDomainIframe||e.enableSafeFrame){a();var f=(g=e.wcElement?e.wcElement:window.document.getElementById(e.targetId)).style.height,m=g.style.width;g.style.height=e.initialHeight,g.style.width=e.initialWidth,g.style.height=f,g.style.width=m}var b=fe(t);de(e.safeframe,"expansionByPush")&&(b.expansionByPush=e.safeframe.expansionByPush),de(e.safeframe,"expansionByOverlay")&&(b.expansionByOverlay=e.safeframe.expansionByOverlay),de(e.safeframe,"sandbox")&&(b.sandbox=e.safeframe.sandbox),de(e.safeframe,"meta")&&(b.meta=e.safeframe.meta),e.safeframe=b,i=function(e){var t=void 0,n=he(e),a=e.curWindow||window,r=e.wcElement;try{t=r&&r.querySelector("#"+n)?r.querySelector("#"+n):a.document.getElementById(n)?a.document.getElementById(n):a.document.createElement("div")}catch(t){return K("Error creating Ad Div: ",t),void(e.displayed=!1)}return t.style.display="none",t.id=n,t}(e),(e.alwaysUseXDomainIframe||e.enableSafeFrame)&&(i.style.height=e.initialHeight+"px",i.style.width=e.initialWidth+"px",i.style.display="block",g.appendChild(i),e.geom=function(e,t){J("Geom starting");var n=Zn(e,t);return 0===Kn&&(Kn=setInterval(ia,1e3)),n}(e.targetId,i)),r=h(e,c);var w=bt.getInstance(),_={},E=r;if(e.renderingManagement&&e.renderingManagement.insertWrapperDiv){var S=document.createElement("div");S.append(r),E=S,Q("renderingManagement.insertWrapperDiv was enabled, creating extra div element around iframe container")}if(_.iframe=r,_.originalWidth=e.initialWidth,_.originalHeight=e.initialHeight,w.add(e.targetId,_),n[e.targetId]=r,typeof l!==Fa&&window.document.getElementById(l.id)?i.replaceChild(E,l):i.appendChild(E),e.displayed=!0,window.document.body)try{!function(e,t,n){var a=ka(),r=e.curWindow||window,i=e.wcElement?e.wcElement:r.document.getElementById(e.targetId);if(i){e.alwaysUseXDomainIframe||e.enableSafeFrame||(i.appendChild(t),t.style.display="inline"),e.utDivId=t.id,e.utiframeId=n.id,a===p.d.IE||a===p.d.OPERA?function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=v+p.j.SAFE_FRAME_URL;else{var n;n=I(t);try{e.contentWindow.contents=n}catch(t){e.src="javascript:document.write('<script>document.domain=\""+document.domain+"\"<\/script>')",e.contentWindow.contents=n}var a=document.getElementsByTagName("base"),r=void 0;a.length&&(r=a.target,a[0].target="_self"),e.src='javascript:window["contents"];',a.length&&(a[0].target=r)}}(n,e):y(n,e);var o=e.adResponse.ads?e.adResponse.ads[0]:e.adResponse.ad;if(void 0===o)return Y("No ad found in response, nothing to display."),void(e.displayed=!1);(!e.isMediated&&!e.usesRenderer||e.adResponse.ad&&"rtb"===e.adResponse.ad.content_source)&&(!function(e,t){for(var n=e[Ba][La][0][Pa],a=0;a<n.length;a++)te(t.parentElement,n[a],e[Na])}(o,n),J("Win notification sent for ad tag: "+e.targetId));var s=Le(o),d=Number(i.style.width.replace(/[^\d\.\-]/g,""));!isNaN(d)&&d>s.width&&("center"===e.promoAlignment?i.setAttribute("align","center"):i.setAttribute("align","left")),J("The "+e.targetId+" ad is loaded."),$("The "+e.targetId+" ad is loaded.");var c=gt(e.adResponse);e.usesRenderer||apntag.requests.enableMediationEvents&&e.isMediated||Ae.emit(p.h.LOADED,e.targetId,c)}else Y("No div element found for display ad. This ad will not show. Div id: "+e.targetId),e.displayed=!1}(e,i,r)}catch(t){K("Error rendering ad: ",t),e.displayed=!1}else K("Error rendering ad: window.document.body is undefined"),e.displayed=!1}else K("Error rendering ad: unknown type"),e.displayed=!1;return e.targetId}};var za=p.b.NATIVE,ja=p.b.BANNER,Va=p.b.VIDEO,Ga=p.m.UNDEFINED,Ha=p.j.USERSYNC_URL;function Xa(e,t,n){J("renderAd is called"),ne(apntag.requests.tags,(function(e){if(e.uuid===t){e.adResponse=n;try{if(n.ad&&n.ad.ad_type===ja){var a=n.ad.content_source;e.ad={mediatedContent:n.ad[a].banner.content},e.initialHeight=n.ad[a].banner.height,e.initialWidth=n.ad[a].banner.width}}catch(e){K("Error while setting mediated content for banner in renderAd"+e)}var r=Wa(e,An,On(),Mn);Sn.push(r)}}))}function Ja(e,t,n){var a=void 0;if(e.uuid===t.uuid)if(!0===t.nobid)J("No bid for targetId:"+e.targetId),a=gt(t),Ae.emit(p.h.NO_BID,n,a);else if(e.adResponse=t,e.utCalled=!0,a=gt(t),Ae.emit(p.h.AVAILABLE,n,a),!e.prebid&&!e.displayed){var r=Wa(e,An,On(),Mn);Sn.push(r)}}function Ya(e,t){var n=null;if(apntag.requests.cbCalled=!0,typeof e===Ga||null===e||e.error){var a="malformed response from ad server";e&&e.error&&(a=e.error),K("Error response from impbus: "+a);var r={};try{r=JSON.parse(t)}catch(e){}ne(apntag.requests.tags,(function(e,t){var i=ft(a,t,void 0,200);e&&(n=gt(e.adResponse)),ne(r.tags,(function(a){a.uuid===e.uuid&&Ae.emit(p.h.BAD_REQUEST,t,i,n)}))}))}else{e.debug&&e.debug.debug_info&&function(e){e=e.replace(/(\n)/g,"<br>"),e=_a()+e;var t=document.body,n=document.createElement("div");n.id="appnexus_debug_window";var a=document.createElement("div");a.style.width="100%",a.style.height="400px",a.style.clear="both",t.insertBefore(a,null);var r=n.style;r.position="fixed",r.bottom="0px",r.left="0px",r.width="100%",r.height="450px",r.overflow="hidden",r["border-top"]="1px solid",r["z-index"]=999999,r.background="white",t.insertBefore(n,null);var i=document.createElement("div");i.style.width="100%",i.style.height="30px";var o=Ia();n.appendChild(o);var s=o.contentWindow.document;o.onload=function(){for(var e=s.getElementsByTagName("br"),t=e.length,n=0,a=void 0;n<t-1;n++)"br"===((a=e[n].nextSibling)&&a.nodeName.toLowerCase())&&(a.style.display="none")};s.open(),s.write(e),s.write("<\/script>"),s.close()}(e.debug.debug_info),e.toolkit&&e.toolkit.enabled&&wa(e.tags),ne(e.tags,(function(e){if(e.error)ne(apntag.requests.tags,(function(t){if(t.uuid===e.uuid){var n="There was an exception from targetId:"+t.targetId+" this usually means there is a setup error on the tag (invalid ID etc)";K(n,e.error);var a=ft(n,t.targetId,void 0,200);Ae.emit(p.h.BAD_REQUEST,t.targetId,a)}}));else{if(e.ads&&e.ads.length&&e.ads[0].ad_type===za)if(!function(e){var t={},n=void 0;ne(xn,(function(t){t.uuid===e.uuid&&(n=t)})),n&&(t=n.native);var a=[];ne(t,(function(e,t){!0===e.required&&a.push(t)}));var r=gt(e),i=[];ne(r.native,(function(e,t){G(e)||i.push(t)}));var o=i.length>0;return ne(a,(function(e){o=o&&i.indexOf(e)>-1})),o}(e))return void K("required native assets missing from response");var t=e.ads,a=function(e){var t=!1;return e&&ne(e,(function(e){"csm"===e.content_source&&(t=!0)})),t}(t),r=e.rtb_video_fallback;ne(apntag.requests.tags,a||r?function(r,i){if(r.uuid===e.uuid){r.utCalled=!0,a?r.isMediated=!0:r.isRtbVideoFallback=!0;var o=function(e){var t=Pe;return Array.isArray(e)&&e.length>0&&e[0][qe]===Oe&&(t=Oe),t}(t),s=function(e,t){var n={};return ne(e,(function(e){e.uuid===t.uuid&&e.mediationOptions&&(n=e.mediationOptions)})),n}(apntag.requests.tags,e);if(o===Va)r.isVideoMediation=!0,n=gt(e),Ae.emit(p.h.AVAILABLE,i,n),Ue(o,e,s,Xa);else{r.isBannerMediation=!0;var d=(c=r.targetId,u=e,l="<script>",l+="var APN_macros = {};",l+='APN_macros.uuid = "'+c+'";',l+="APN_macros.enableMediationEvents = "+apntag.requests.enableMediationEvents+";",l+="APN_macros.expandByCreative = "+re(c)+";",l+="APN_macros.ads = ",l+='window.parent.apntag.getAdMarkup("'+c+'", "'+u.uuid+'");',l+=";",l+="document.write('<scr' + 'ipt src=\""+Ne+"\"></scr' + 'ipt>');",l+="<\/script>");e.ad={ad_type:ja},r.ad={mediatedContent:d},Ja(r,e,i)}}var c,u,l}:function(t,n){Ja(t,e,n)})}})),apntag.requests.checkDisplay&&Ee();var i=apntag.requests.trackingManagement&&apntag.requests.trackingManagement.userSync;if(i&&!1===i.syncEnabled)Q("AST userSync feature was disabled as per setPageOpts.");else if(!0===zn())Q("AST userSync feature was disabled due to TCF consent choices.");else{var o=3e3;if(i&&i.syncDelay&&(o=i.syncDelay),o)return setTimeout(d,o);d()}}function s(){var e=apntag.requests.trackingManagement&&apntag.requests.trackingManagement.userSync,t=Ha+"?";return e&&(t+="number"==typeof e.sellerId?"seller_id="+e.sellerId+"&":"",t+="number"==typeof e.publisherId?"pub_id="+e.publisherId+"&":""),t=t.substring(0,t.length-1)}function d(){Q("AST is loading the userSync URL."),b({strategy:"WithAttributes",data:{id:Te()+Math.random().toString(16).substr(2),src:s(),sandbox:"allow-scripts allow-same-origin"}})}}var Ka=void 0,$a=void 0,Qa=function(e,t){var n=t,a=void 0;function r(e){var t={us_privacy:e?e.uspString:void 0};$a.us_privacy=t.us_privacy}function i(e){clearTimeout(a),r(),we(o(e))}function o(e){e&&Y(e+" Resuming request without CCPA USP consent information."),n()}if(($a=e).consentManagement&&($a.consentManagement.disabled||$a.consentManagement.usp&&$a.consentManagement.usp.disabled))return Q("USP Consent module was disabled."),we(o());var s=1e4;if($a.consentManagement&&j($a.consentManagement.timeout)&&(s=$a.consentManagement.timeout),Ka)return r(Ka),we(o());a=setTimeout((function(){i("CCPA USP CMP workflow exceeded timeout threshold.")}),s),function(e,t){var n={},a=void 0;try{a=window.__uspapi||window.top.__uspapi}catch(e){}if(F(a))a("getUSPData",1,e);else{for(var r=window,i=void 0;!i;){try{r.frames.__uspapiLocator&&(i=r)}catch(e){}if(r===window.top)break;r=r.parent}if(!i)return t("CCPA USP CMP not found.");!function(t){function a(e){var t="string"==typeof e.data&&e.data.includes("uspapiReturn")?JSON.parse(e.data):e.data;if(t.__uspapiReturn){var a=t.__uspapiReturn;n[a.callId](a.returnValue,a.success),delete n[a.callId]}}window.__uspapi=function(e,a,r){var i=""+Math.random(),o={__uspapiCall:{command:e,version:a,callId:i}};n[i]=r,t.postMessage(o,"*")},O(window,"message",a,!1),window.__uspapi("getUSPData",1,(function(t){U(window,"message",a,!1),e(t)}))}(i)}}((function(e){"object"!=typeof e||"string"!=typeof e.uspString||""===e.uspString?i("CCPA USP CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(a),r(Ka=e),we(o()))}),i)};var Za={},er=void 0,tr=function(e,t){var n=t,a=void 0;function r(e){var t={gpp:e&&""!==e.gppString?e.gppString:void 0};e&&e.applicableSections?t.gpp_sid=e.applicableSections:e&&e.applicableSection?t.gpp_sid=e.applicableSection:t.gpp_sid=Za.applicableSections,t.gpp_sid&&-1===t.gpp_sid[0]&&(t.gpp_sid=void 0),er.gpp_consent=t}function i(e,t){clearTimeout(a),r(t),we(o(e))}function o(e){e&&Y(e+" Resuming request without GPP consent information."),n()}var s=(er=e).consentManagement;if(s&&(s.disabled||s.gpp&&s.gpp.disabled))return Q("GPP Consnent module was disabled."),we(o());var d=1e4;s&&j(s.timeout)&&(d=er.consentManagement.timeout),a=setTimeout((function(){i("GPP CMP workflow exceeded timeout threshold.",Za)}),d),function(e,t){function n(e){return e&&Array.isArray(e.applicableSections)&&e.applicableSections.length>0&&0!==e.applicableSections[0]}function a(e){return e&&Array.isArray(e.applicableSection)&&e.applicableSection.length>0&&0!==e.applicableSection[0]}var r={},i=!1,o=function(){for(var e=window,t=void 0,n=!1;;){try{if("function"==typeof e.__gpp){t=e,n=!0;break}}catch(e){}try{if(e.frames.__gppLocator){t=e;break}}catch(e){}if(e===window.top)break;e=e.parent}return{cmpFrame:t,cmpDirectAccess:n}}(),s=o.cmpFrame,d=o.cmpDirectAccess;if(!s)return t("GPP CMP not found.");function c(e,t,n,a){i||(window.addEventListener("message",(function(e){var t="string"==typeof e.data&&e.data.includes("__gppReturn")?JSON.parse(e.data):e.data;if(t.__gppReturn&&t.__gppReturn.callId){var n=t.__gppReturn;r.hasOwnProperty(n.callId)&&r[n.callId](n.returnValue)}}),!1),i=!0),Q("Making a postMessage call to the CMP for command: ",e);var o,s,d,c=Math.random().toString(),u=(d={command:e,parameter:a,version:1,callId:c},(s="__gppCall")in(o={})?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o);r[c]=n,t.postMessage(u,"*")}function u(e){Q("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",e),n(e)?Za.applicableSections=e.applicableSections:a(e)&&(Za.applicableSections=e.applicableSection)}function l(t){Q("Received a response from GPP CMP for getGPPData",t),e(t)}d&&F(s.__gpp)?(Q("Detected GPP CMP API is directly accessible, calling it now..."),s.__gpp("addEventListener",(function(r){if(r)if(Q("Received a response from GPP CMP for eventlistener",r),"sectionChange"===r.eventName||"loaded"===r.pingData.cmpStatus&&"visible"!==r.pingData.cmpDisplayStatus){var i=s.__gpp("getGPPData");Q("Received a response from GPP CMP for getGPPData",i),e(i)}else if("error"===r.pingData.cmpStatus)t("CMP returned with a cmpStatus:error response.  Please check CMP setup.");else if(!Za.applicableSections){var o=s.__gpp("getGPPData");Q("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",o),n(o)?Za.applicableSections=o.applicableSections:a(o)&&(Za.applicableSections=o.applicableSection)}}))):(Q("Detected GPP CMP is outside the current iframe where AST is located, calling it now..."),c("addEventListener",s,(function(e){e&&(Q("Received a response from GPP CMP for eventlistener",e),"sectionChange"===e.eventName||"loaded"===e.pingData.cmpStatus&&"visible"!==e.pingData.cmpDisplayStatus?c("getGPPData",s,l):"error"===e.pingData.cmpStatus?t("CMP returned with a cmpStatus:error response.  Please check CMP setup."):Za.applicableSections||c("getGPPData",s,u))})))}((function(e){e&&"object"==typeof e&&"string"==typeof e.gppString&&(Array.isArray(e.applicableSections)||Array.isArray(e.applicableSection))?(clearTimeout(a),r(e),we(o())):i("GPP CMP returned unexpected consentObject during lookup process; returned value was ("+e+")")}),i)};function nr(e,t,n,a,r){ne(Tn[t],(function(t){!function(e,t,n,a,r){0===n&&(e="Failure to contact endpoint. This can be caused by invalid CORS headers or failure of server to respond.");var i=apntag.requests.tags[t],o=void 0;i&&(o=gt(i.adResponse));var s=ft(e,t,r,n);Ae.emit(a,t,s,o)}(e,t,n,a,r)}))}var ar=function(e,t){var n=Cn,a=function(e){return e.url+(e.url.indexOf("?")+1?"&":"?")+"cb=apntag.handleCb&q="+encodeURI(e.data)}(e),r=Z(n,a);apntag.requests.utCalled=!0,r.onload=function(){J("JSONP fallback used instead of POST.")},r.onerror=function(n){if(!apntag.requests.errorReported){var a="Unknown script error contacting endpoint over JSONP. Endpoint: "+e.url;nr(a,t,"-1",p.h.REQUEST_FAIL,n),K(a)}},r.onreadystatechange=function(n){if(!("loaded"!==r.readyState&&"complete"!==r.readyState||apntag.requests.cbCalled||apntag.requests.errorReported)){apntag.requests.errorReported=!0;var a="Unknown network error contacting endpoint over JSONP. Endpoint: "+e.url;nr(a,t,"-1",p.h.REQUEST_FAIL,n),K(a)}}},rr=function(e){var t={},n=function(){Rn||(qn==="https://"+p.g.IMPBUS&&zn()&&(qn="https://"+p.g.IMPBUS_SIMPLE),qn!=="https://"+p.g.IMPBUS_SIMPLE||zn()||(qn="https://"+p.g.IMPBUS));var e=!1;return ne(apntag.requests.tags,(function(t){t.prebid&&(e=!0)})),e?qn+p.g.UT_PREBID:qn+p.g.UT_BASE}();return t.url=n,t.data=JSON.stringify(e),t},ir=function(e,t){!function(e,t){ne(apntag.requests.tags,(function(e){e.utCalled||-1===t.indexOf(e.targetId)||Ae.emit(p.h.REQUEST,e.targetId)})),$("Ad is requested for member "+e)}(e,t);var n=ut(apntag.requests,e,xn,t);n=function(e){if(pe().context&&"AMP-AD"===pe().context.tagName){e.is_amp=!0,e.referrer_detection&&(e.referrer_detection.rd_can=pe().context.canonicalUrl);var t=pe().context.consentSharedData;if(t){var n={consent_string:t.consentString,consent_required:t.consentRequired};e.gdpr_consent=n}}return e}(n);var a=rr(n);G(n.tags)?Y("ast.loadTagsByMemberId: no defined tags at this point so no /UT request will be made"):"withCredentials"in new XMLHttpRequest?function(e,t){var n=e.data,a=new XMLHttpRequest;a.onload=function(){var e=null;if(200===this.status)try{e=JSON.parse(this.responseText),apntag.handleCb(e,n)}catch(e){K("failed to parse ad response from impbus: "+e.message),nr(e.message,t,this.status,p.h.REQUEST_FAIL,e)}else K(this.status+" : "+this.statusText),nr(this.statusText,t,this.status,p.h.REQUEST_FAIL)},a.onerror=function(n){var a=n.target.status;nr("Error contacting impbus endpoint: "+e.url+" http response code:"+a,t,a,p.h.REQUEST_FAIL)},a.open("POST",e.url,!0),a.setRequestHeader("Content-Type","text/plain"),apntag.requests.test&&a.setRequestHeader("X-Is-Test",1),a.withCredentials=!0;try{a.send(n),apntag.requests.utCalled=!0}catch(n){K("Error making POST request: "+n),ar(e,t)}}(a,e):ar(a,e)},or=function(e){ne(Tn,(function(t,n){if("none"===n)ir(n,e);else{var a=Number(n);isNaN(a)?K("Invalid value for member"):ir(a,e)}}))},sr=function(e){e=e||ce(apntag.requests.tags,(function(e){return e.targetId})),z(e)||(e=[e]);var t=!1,n=!1,a=!1;Hn(apntag.requests,(function(){t=!0,n&&a&&or(e)})),Qa(apntag.requests,(function(){n=!0,t&&a&&or(e)})),tr(apntag.requests,(function(){a=!0,t&&n&&or(e)}))};function dr(e,t,n){if(J("showTag called for "+e),Bn()[e]=!0,_e(e)){var a=apntag.requests.tags[e];if(a.showTagCalled=!0,a.curWindow=t,a.wcElement=n,a.displayed)return void Y("Attempting to display ad that is already displayed, will not render this ad again: "+e);if(apntag.requests.utCalled)if(a.adResponse){var r=Wa(a,An,On(),Mn);Sn.push(r),apntag.requests.hasLeft&&Ee()}else apntag.requests.checkDisplay=!0;else Y(e+" : showTag() called before ad request was made. This placement might not display if a subsequent loadTags() call is not made")}else J("the "+e+" tag was loaded before the ad placement was available.",p.k.WARN)}function cr(e){if(J("getTag called for tag "+e),_e(e))return e&&kn[e]?kn[e]:void 0;K("the "+e+" tag is not defined.",p.k.WARN)}var ur=function(e){apntag.requests.utCalled=!1,apntag.requests.hasLeft=!1,apntag.requests.cbCalled=!1,apntag.requests.errorReported=!1;var t=function(e){var t={};return 0===e.length?apntag.requests.tags:(ne(apntag.requests.tags,(function(n,a){for(var r=0;r<e.length;r++)e[r]===a&&(t[a]=n)})),t)}(function(e){var t=[];return z(e)?t=e:W(e)&&t.push(e),t}(e));ne(t,(function(e,n){ne(Sn,(function(e){if(n===e){var a=Cn.document,r=t[n].wcElement||a.getElementById(e);if(!r)return;for(;r.hasChildNodes();)r.removeChild(r.firstChild)}}))})),ne(t,(function(e){e.utCalled=!1,e.displayed=!1,e.isMediated=!1,e.isBannerMediation=!1,e.isVideoMediation=!1,e.ad={}}));try{sr()}catch(e){K("refreshTags "+e.message)}};function lr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0,r=0;z(t)&&2===t.length?(r=t[0],a=t[1]):K("resizeAd must be invoked with a (targetId,[width, height])");var i=On()[e];if(i){var o=n.resizeAdParentDiv,s=apntag.requests.tags[e].wcElement,d=cr(e),c=he(d),u=s?s.querySelector("#"+c):Cn.document.getElementById(c),l=apntag.requests.tags[e];if(u){var p=!1;if("boolean"==typeof o?p=o:l&&"boolean"==typeof l.resizeAdParentDiv&&(p=l.resizeAdParentDiv),p&&(u.style.height=a+"px",u.style.width=r+"px",u.style.height=a,u.style.width=r),u.style.height=a,u.style.width=r,i.height=a+"px",i.width=r+"px",i.height=a,i.width=r,l&&!l.enableSafeFrame&&("none"!==u.style.display&&0===a&&0===r?(l.styleDisplay=u.style.display,u.style.display="none"):"none"===u.style.display&&0!==a&&0!==r&&(u.style.display=l.styleDisplay||"inline")),J("ResizeAd successful for targetId: "+e),l&&l.isMediated&&i.contentWindow){var g=pe(),f=g.location.protocol+"//"+g.location.host,m={name:"resizeAd",size:[r,a]};i.contentWindow.postMessage(JSON.stringify(m),f)}}else K("Failed to find target for resizeAd: "+e)}else K("Failed to find target for resizeAd : "+e)}var pr=p.b.NATIVE,gr=p.b.VIDEO,fr=p.m.UNDEFINED,mr=p.m.NUMBER,vr=p.a.NOAD;O(Cn,"message",(function(e){if(e.origin===ye()&&"string"==typeof e.data){Q("Data sent from creative",e.data);var t=void 0;try{t=JSON.parse(e.data)}catch(t){return void("nobid"===e.data?J("No bid response returned"):K("Invalid data from creative: "+e.data))}if(de(t,"eventType"))"adError"===t.eventType&&window.apntag.recordErrorEvent(t.exception,t.targetId);else switch(t.name){case"expand":Qn(t);break;case"collapse":!function(e){J("Collapse iframe started by host");var t=pe(),n=bt.getInstance().getIframe(e.targetId),a=n.iframe.style,r=t.document.getElementById(p.n.UT_DIV+e.targetId);r||(r=n.iframe.parentNode);var i=r.style,o=n.originalWidth,s=n.originalHeight;e.ext&&(0===e.ext.width&&(o=0),0===e.ext.height&&(s=0)),a.left="",a.top="0px",i.width=o+"px",a.width=o+"px",i.height=s+"px",a.height=s+"px",a.zIndex="";var d=n.iframe.contentWindow,c={};c.targetId=e.targetId,c.geom=Zn(e.targetId,n.iframe),c.status=p.p.STATUS.NOTIFY_COLLAPSED,da(d,JSON.stringify(c),ye())}(t);break;case"cmp":!function(e){function t(){var t=apntag.requests.gdpr_consent,n=bt.getInstance().getIframe(e.targetId).iframe.contentWindow,a={targetId:e.targetId,gdpr_consent:t,status:p.p.STATUS.CMP};da(n,a,ye())}apntag.requests.gdpr_consent?t():Hn(apntag.requests,t)}(t);break;case"resizeAd":apntag.resizeAd(t.targetId,t.cmd);break;case"mediatedNative":apntag.handleMediationBid(t.targetId);break;case"emitEvent":apntag.emitEvent.apply(null,t.cmd);break;case"message":break;case"updateRenderStatus":ca.setRendererStatus(t.rId+"_"+t.targetId,t.status);break;case"setParentDivStyleDefaultProp":var n=apntag.requests.tags[""+t.targetId].wcElement,a=n?n.querySelector("#"+p.n.UT_DIV+t.targetId):document.getElementById(p.n.UT_DIV+t.targetId);ne(t.cmd,(function(e,t){""===a.style[t]&&(a.style[t]=e)}))}}})),An.expansionByPush=!1,An.expansionByOverlay=!0,An.readCookie=!1,An.writeCookie=!1,An.sandbox=!1,function(){if(/(iPhone)/i.test(navigator.userAgent))try{O(_n.document,"apntag_iTunesLaunch",En)}catch(e){}}();try{console.info?console.info("AST library loaded: 0.57.0"):console.log("AST library loaded: 0.57.0")}catch(e){}Cn.apntag=typeof Cn.apntag!==fr?Cn.apntag:{};var hr=Cn.apntag;function yr(e,t,n){var a,r=br(e),i=function(e,t,n){var a=e.adResponse&&e.adResponse.ads&&e.adResponse.ads.length,r=a&&e.adResponse.ads[a-1].ad_type===p.b.NATIVE;return e.isMediated&&r&&!n?gt(e.adResponse,e.adResponse.ads[a-1]):gt(e.adResponse,n)}(r,0,n);J("handling event for DOM ID:  "+i.targetId+" eventType : "+t),(t=t===p.o.LOADED?"adLoaded":t)===p.h.LOADED||t===p.h.LOADED_MEDIATED||t===p.h.NO_BID_MEDIATED?Ae.emit(t,i.targetId,i):Ae.emit(t,i.targetId),t===p.h.NO_BID&&r.isMediated&&(a=r.adResponse,te(window.document.body,a[vr],a.uuid))}function br(e){var t={};return ne(hr.requests.tags,(function(n){e!==n.uuid&&e!==n.targetId||(t=n)})),t}hr.anq=hr.anq||[],hr.debug=hr.debug||!1,hr.dongle=hr.dongle||void 0,hr.loaded=!0,hr.requests=hr.requests||{},hr.requests.keywords=hr.requests.keywords||{},Fn(p.g.IMPBUS),hr.requests.tagsOnPageCount=hr.requests.tagsOnPageCount||0,hr.requests.waitOnTagsCount=hr.requests.waitOnTagsCount||0,hr.requests.showTagDefinedMap=hr.requests.showTagDefinedMap||Bn(),hr.highlightAd=function(e){if(Q("Invoking apntag.highlightAd",arguments),e){var t=On()[e];t&&(t.style.border="3px solid #e67300")}},hr.anq.push=function(e){e.call()},hr.setEndpoint=function(e,t){Q("Invoking apntag.setEndpoint",arguments),Fn(e,t)},hr.setPageOpts=function(e){Q("Invoking apntag.setPageOpts",arguments),pa(e)},hr.defineTag=function(e){Q("Invoking apntag.defineTag",arguments);var t=ba(e);return t},hr.getTag=function(e){if(!e||_e(e)){var t=void 0,n=void 0;return e?(n=cr(e),t=Ie(hr.requests.tags[e],n)):(t={},hr.requests.tags?Object.keys(hr.requests.tags).forEach((function(e){n=cr(e),t[e]=Ie(hr.requests.tags[e],n)})):Y("getTag is called before defineTag function, so the tag object will be empty.")),t}K(e+" is not defined.",p.k.WARN)},hr.getAdWrap=function(e){if(Q("Invoking apntag.getAdWrap",arguments),_e(e))return e&&hr.requests.tags&&hr.requests.tags[e]&&hr.requests.tags[e].adWrap?hr.requests.tags[e].adWrap:void 0;K("the "+e+" tag is not defined.",p.k.WARN)},hr.setSizes=function(e,t){Q("Invoking apntag.setSizes",arguments),arguments.length<2&&(t=e,e=this.targetId),_e(e)?hr.requests.tags[e].sizes=t:K("the "+e+" tag is not defined.",p.k.WARN)},hr.modifyTag=function(e,t){Q("Invoking apntag.modifyTag",arguments);var n={};arguments.length<2&&(t=e,e=this.targetId),_e(e)?((t.sizes||t.sizeMapping)&&ha(t,e),ne(hr.requests.tags[e],(function(e,t){n[t]=e})),ne(t,(function(e,t){n[t]=e})),hr.requests.tags[e]=n):K("the "+e+" tag is not defined.",p.k.WARN)},hr.setKeywords=function(e,t,n){Q("Invoking apntag.setKeywords",arguments);var a={};"object"==typeof t&&null!==t?_e(e)?(ne(hr.requests.tags[e],(function(e,t){a[t]=e})),a.keywords=a.keywords||{},"object"==typeof n&&null!==n&&!0===n.overrideKeyValue?ne(t,(function(e,t){a.keywords[t]=e})):ne(t,(function(e,t){de(a.keywords,t)?z(a.keywords[t])?a.keywords[t]=a.keywords[t].concat(e):a.keywords[t]=[a.keywords[t]].concat(e):a.keywords[t]=e})),hr.requests.tags[e]=a):K("the "+e+" tag is not defined.",p.k.WARN):Y("unable to set keywords it should be an object")},hr.onEvent=function(e,t,n){if(Q("Invoking apntag.onEvent",arguments),2===arguments.length&&"function"==typeof t&&typeof this.targetId===fr)n=t,t="*";else if(arguments.length<3&&(n=t,t=this.targetId,!_e(t)))return void K("the "+t+" tag is not defined.",p.k.WARN);Ae.on(e,t,n)},hr.offEvent=function(e,t,n){if(Q("Invoking apntag.offEvent",arguments),1===arguments.length&&typeof this.targetId===fr)t="*";else if(arguments.length<2&&(t=this.targetId,!_e(t)))return void K("the "+t+" tag is not defined.",p.k.WARN);if(z(e))for(var a=0;a<e.length;a++)Ae.off(e[a],t,n);else Ae.off(e,t,n)},hr.loadTags=function(e){Q("Invoking apntag.loadTags",arguments),sr(e)},hr.refresh=function(e){Q("Invoking apntag.refresh",arguments),ur(e)},hr.resizeAd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Q("Invoking apntag.resizeAd",arguments),lr(e,t,n)},hr.enableCookieSet=function(){Y("apntag.enableCookieSet has been depreciated"),function(e){e&&e.override&&(s=e.override),e&&e.cookieUrl&&(d=e.cookieUrl);var t=window.addEventListener?"addEventListener":"attachEvent",n=window[t],a="attachEvent"==t?"onload":"load";"complete"===document.readyState||"interactive"===document.readyState?u():n(a,(function(e){u()}),!1)}()},hr.collapseAd=function(e,t,n){Q("Invoking apntag.collapseAd",arguments),Y("apntag.collapseAd has been depreciated, Please use apntag.resizeAd");var a=0,r=0,i=cr(e);if(i){var o=he(i);typeof t===mr&&(a=t),typeof n===mr&&(r=n);var s=Cn.document.getElementById(o);if(null!==s){hr.resizeAd(e,[r,a]),s.style.height=a,s.style.width=r,s.style.display="none";var d=hr.requests.tags[e],c=gt(d.adResponse);Ae.emit(p.h.COLLAPSE,e,c)}else K("CollapseAd failed to find ad div : "+e)}else K("CollapseAd failed to find targetId : "+e)},hr.showTag=function(e,t){var n=void 0;if(Q("Invoking apntag.showTag",arguments),"object"==typeof t&&(t.hasOwnProperty("iframeWindow")||t.hasOwnProperty("wcElement"))){if(n=t.wcElement instanceof Element&&t.wcElement,t.wcElement&&!n)return void K("wcElement is not a DOM element : "+e);t=t.iframeWindow||Cn}else t=t||Cn;dr(e,t,n)},hr.setPageTargeting=function(e,t){Q("Invoking apntag.setPageTargeting",arguments),hr.requests.targetingParams&&e&&t&&(hr.requests.targetingParams[e]=t)},hr.getPageTargeting=function(e){if(Q("Invoking apntag.getPageTargeting",arguments),hr.requests.targetingParams&&e)return hr.requests.targetingParams[e]},hr.clearPageTargeting=function(e){Q("Invoking apntag.clearPageTargeting",arguments),hr.requests.targetingParams&&e&&delete hr.requests.targetingParams[e]},hr.enableDebug=function(){hr.debug=!0,Q("Invoking apntag.enableDebug",arguments)},hr.disableDebug=function(){Q("Invoking apntag.disableDebug",arguments),hr.debug=!1},hr.notify=function(e,t,n){e?ca.invokeNotify(e,t,n):K("apntag.notify must be called with `messageType`")},hr.registerRenderer=function(e,t){Q("Invoking apntag.registerRenderer",arguments),ca.registerRenderer(e,t)},hr.getAstVersion=function(){return Q("Invoking apntag.getAstVersion"),"0.57.0"},hr.recordErrorEvent=function(e,t){Q("Invoking apntag.recordErrorEvent",arguments);var n=hr.requests.tags[t],a=gt(n.adResponse),r=ft(e.message,t,e,200);Ae.emit(p.h.ERROR,t,r,a)},hr.clearRequest=function(){Q("Invoking apntag.clearRequest",arguments),hr.requests={},hr.requests.tags={},Ln({}),bt.getInstance().resetInstance(),Un({})},hr.handleCb=function(e,t){Q("Invoking apntag.handleCb",arguments);try{Ya(e,t)}catch(e){var n=e.message?e.message:e;K("Internal AST error : ",e);var a=void 0;nr(n,a,200,p.h.BAD_REQUEST,e)}},hr.emitEvent=function(e,t,n){n&&n.content_source&&!hr.requests.enableMediationEvents||(Q("Invoking apntag.emitEvent",arguments),yr(e,t,n))},hr.getAdMarkup=function(e,t){if(hr.requests.tags&&hr.requests.tags[e]){var n=hr.requests.tags[e];if(n.uuid===t)return n.adResponse.ads}},hr.setSafeFrameConfig=function(e){de(e,"allowExpansionByPush")&&(An.expansionByPush=e.allowExpansionByPush),de(e,"allowExpansionByOverlay")&&(An.expansionByOverlay=e.allowExpansionByOverlay),de(e,"sandbox")&&(An.sandbox=e.sandbox),de(e,"meta")&&(An.meta=e.meta)},hr.fireImpressionTrackers=function(e){if(!e.impressionTrackersFired){e.impressionTrackersFired=!0,Q("Firing impression trackers for",e.tagId);var t=e.native&&e.native.impressionTrackers;t&&t.length&&t.forEach((function(e){te(Cn.document.body,e)}));var n=br(e.uuid);n&&n.trackingManagement&&n.trackingManagement.native&&n.trackingManagement.native.loadViewScriptAt===p.c.NATIVE_VIEWABILITY.IMPRESSION&&(Q("Loading native viewability script during fireImpressionTrackers"),Se(n.adResponse.ads[0],n.targetId));var a=e.native&&e.native.javascriptTrackers;a&&b({strategy:"WithContent",data:a})}},hr.attachClickTrackers=function(e,t){var n=t instanceof Element,a=n?t.id:t,r=n?t:document.getElementById(t);r?(Q("Attaching click track handler to",a),O(r,"click",(function(){var t=e.native&&e.native.clickTrackers;t&&t.length&&(Q("Firing click trackers for",e.tagId),t.forEach((function(e){te(Cn.document.body,e)})))}))):K("HTML element with id "+a+" not found, click trackers not attached")},hr.checkAdAvailable=function(e){return function(e){var t=apntag.requests.tags[e],n=t&&t.adResponse,a=t&&t.utCalled&&!t.showTagCalled&&n&&gt(n);return function(e){a&&(n.nobid||e.resolve(a),n.nobid&&e.reject())}}(e)},hr.handleMediationBid=function(e){var t=br(e),n=[];try{var a=t.adResponse.ads;n=a[a.length-1]}catch(e){Q("Trying to get mediated adresponse for renderer",e)}function r(){hr.resizeAd(e,[0,0])}if(n.renderer_url)t.displayed=!1,n.targetId=e,n.ad_type===gr&&(function(e){try{hr.requests.tags[e].adResponse.ads=[n]}catch(e){Q("Trying to set adresponse for video renderer",e)}}(t.targetId),t.enableSafeFrame&&function(e){var t=bt.getInstance().getIframe(e);t&&t.iframe&&(t.iframe.allow="autoplay",t.iframe.style="overflow:hidden")}(t.targetId)),t.enableSafeFrame?function(e){var t=bt.getInstance().getIframe(e.targetId).iframe.contentWindow;delete e.curWindow;var n={status:"nativeAssembly",targetId:e.targetId};da(t,JSON.stringify(n),ye())}(t):ca.loadRenderer(t,n),r();else{var i=gt(t.adResponse,n);i.adType===pr&&r(),Ae.emit(p.h.LOADED,e,i)}};$("AST library loaded"),function(){for(var e=0;e<hr.anq.length;e++)typeof hr.anq[e].called===fr&&(hr.anq[e].call(),hr.anq[e].called=!0)}(),hr.requests.checkDisplay||function(e){var t=!1;function n(){t||(t=!0,e())}if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){var a=void 0;try{a=null!==window.frameElement}catch(e){}if(document.documentElement.doScroll&&!a){var r=function(){if(!t)try{document.documentElement.doScroll("left"),n()}catch(e){setTimeout(r,10)}};r()}document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()}))}if(window.addEventListener)window.addEventListener("load",n,!1);else if(window.attachEvent)window.attachEvent("onload",n);else{var i=window.onload;window.onload=function(){i&&i(),n()}}}(Ee),"function"==typeof window.define&&window.define.amd&&window.define("appnexusAst",[],(function(){return window.apntag}))}]);